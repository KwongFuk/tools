<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="css/prism.min.css"/><link rel="stylesheet" type="text/css" href="css/katex.min.css"/><link rel="stylesheet" type="text/css" href="css/wolai.css"/><title>8 javascript - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="8 javascript" class="main-title"></div></div></header><article><h1 id="iD3PpFipUExf6Tjb3LFhLU" class="wolai-block"><span class="inline-wrap">8.1 基础知识</span></h1><h2 id="u7H1115aNjfcdANaHDauFp" class="wolai-block"><span class="inline-wrap">bacis</span></h2><code-block id="qYPn6f9dBQqaoZvzopCQ3V" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>script src<span class="token operator">=</span>“your <span class="token maybe-class-name">JavaScript</span><span class="token punctuation">.</span><span class="token property-access">js</span>"<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span> <span class="token maybe-class-name">Write</span> the code here <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></pre></div></code-block><code-block id="rj4xAB5dAco6voD83RSoS2" class="wolai-block"><div class="wolai-pre"><div data-lang="HTML" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span> Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> 
<span class="token keyword">function</span> <span class="token function">doAnything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">doAnything</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></pre></div></code-block><h2 id="bY4BM984QNSyxC9TGU1Jhn" class="wolai-block"><span class="inline-wrap">Execution Context</span></h2><div id="v33SRK6zmpCayAr2hAuAH6" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image.png" style="width: 100%"/></figure></div><div id="75VLZ2baSu6zQDC99KBCfF" class="wolai-block wolai-text"><div><span class="inline-wrap">执行上下文（Execution Context）是 JavaScript 中非常重要的概念之一，它描述了代码在运行时的环境和状态。每当 JavaScript 代码执行时，都会创建一个执行上下文，并按照一定的规则对其进行管理和执行。</span></div></div><div id="qsJJ8r8A2ZM9jXg1ZrpTZ5" class="wolai-block wolai-text"><div><span class="inline-wrap">一个执行上下文包含了以下信息：</span></div></div><ol class="wolai-block"><li id="Bh7RtY7WLzz2bxtphmKrx"><div class="marker"></div><span class="inline-wrap"><b>变量对象（Variable Object）</b></span><span class="inline-wrap">：用于存储在执行上下文中声明的变量、函数声明和形参。</span></li><li id="9hrgc8cRiQS2qY22WHutwT"><div class="marker"></div><span class="inline-wrap"><b>作用域链（Scope Chain）</b></span><span class="inline-wrap">：描述了在当前执行上下文中可以访问的变量和函数的范围。作用域链由当前执行上下文的变量对象和其父级执行上下文的变量对象构成。</span></li><li id="mLWByAsFWPWwXxd22gnCgi"><div class="marker"></div><span class="inline-wrap"><b>this 值</b></span><span class="inline-wrap">：指向当前执行上下文的对象。</span></li><li id="6DwxSJ9m8AeiaAhu17g21L"><div class="marker"></div><span class="inline-wrap"><b>闭包信息</b></span><span class="inline-wrap">：当函数嵌套时，闭包信息记录了外部函数的变量对象和作用域链，以便内部函数可以访问外部函数的变量。</span></li></ol><div id="3crJ3pYDWREUid6JzNnr2n" class="wolai-block wolai-text"><div><span class="inline-wrap">在 JavaScript 中，执行上下文的类型有全局执行上下文和函数执行上下文。全局执行上下文在页面加载时创建，并且只有一个，而函数执行上下文在每次函数调用时创建。执行上下文会按照调用栈的顺序进行管理，最后进入的执行上下文位于调用栈的顶部，称为当前执行上下文。</span></div></div><div id="kbhNHbFEpajH8yvWpjDtfR" class="wolai-block wolai-text"><div><span class="inline-wrap">理解执行上下文对于了解 JavaScript 中的变量作用域、this 值、作用域链以及闭包等概念非常重要。</span></div></div><div id="v6U8njCvC9Qi2mVLtgS7kh" class="wolai-block wolai-text"><div><span class="inline-wrap">闭包是 JavaScript 中一个重要的概念，它指的是函数与其周围的词法环境的组合。这意味着函数可以访问在其定义时所处的词法作用域内的变量，即使在函数执行完成后，仍然可以访问这些变量。</span></div></div><div id="pLdgBT4T3MT2hs6n8qBy7K" class="wolai-block wolai-text"><div><span class="inline-wrap">下面是一个闭包的例子：</span></div></div><code-block id="89SaouMTahvzhWpAyt1aUL" class="wolai-block"><div class="wolai-pre"><div data-lang="HTML" class="marker"></div><pre>function outerFunction() {
    var outerVariable = 'I am from the outer function';
    
    function innerFunction() {
        console.log(outerVariable);
    }
    
    return innerFunction;
}

var closure = outerFunction(); // 调用外部函数，返回内部函数形成闭包
closure(); // 输出: "I am from the outer function"
</pre></div></code-block><div id="BiQ2P2zCF4hv2vM9MwCrU" class="wolai-block wolai-text"><div><span class="inline-wrap">var closure = outerFunction(); // 调用外部函数，返回内部函数形成闭包
closure(); // 输出: &quot;I am from the outer function&quot;` </span></div></div><div id="dhsksctbr7m1E842ARmT8w" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个例子中，</span><span class="inline-wrap"><code>outerFunction</code></span><span class="inline-wrap"> 是一个外部函数，它包含了一个内部函数 </span><span class="inline-wrap"><code>innerFunction</code></span><span class="inline-wrap">。内部函数 </span><span class="inline-wrap"><code>innerFunction</code></span><span class="inline-wrap"> 访问了外部函数 </span><span class="inline-wrap"><code>outerFunction</code></span><span class="inline-wrap"> 中的变量 </span><span class="inline-wrap"><code>outerVariable</code></span><span class="inline-wrap">。当我们调用 </span><span class="inline-wrap"><code>outerFunction</code></span><span class="inline-wrap"> 时，它返回了内部函数 </span><span class="inline-wrap"><code>innerFunction</code></span><span class="inline-wrap">，并且形成了一个闭包。即使 </span><span class="inline-wrap"><code>outerFunction</code></span><span class="inline-wrap"> 执行完成后，闭包中的 </span><span class="inline-wrap"><code>innerFunction</code></span><span class="inline-wrap"> 仍然可以访问到 </span><span class="inline-wrap"><code>outerVariable</code></span><span class="inline-wrap">。</span></div></div><div id="kC55xupE7rx3rFNC1hxGm5" class="wolai-block wolai-text"><div><span class="inline-wrap">闭包的一个重要特性是它可以“记住”其词法作用域，这使得闭包在很多情况下非常有用，比如在回调函数、事件处理程序、模块模式等方面的应用。</span></div></div><h2 id="scZy1SXuyKZYK8Xy5a5Nmh" class="wolai-block"><span class="inline-wrap">Hoisting</span></h2><div id="dpR7ghUDkrkXnKNF6t32gV" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_1.png" style="width: 100%"/></figure></div><div id="56r7U7pMqmmTvtnU7s6vWo" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_2.png" style="width: 100%"/></figure></div><div id="nG15vB8RgbCxRT93NriNWh" class="wolai-block wolai-text"><div><span class="inline-wrap">Hoisting（提升）是 JavaScript 中的一个概念，指的是在代码执行过程中，变量和函数声明会被提升到其所在作用域的顶部。这意味着可以在声明之前使用变量和函数，但它们的赋值或定义并不会提升。具体来说：</span></div></div><ol class="wolai-block"><li id="3Vmge8yuPPVvqTkxaXsZMc"><div class="marker"></div><span class="inline-wrap"><b>变量声明会被提升</b></span><span class="inline-wrap">，但赋值不会。</span></li><li id="5FokDqqLik7h7C2ZvzyMx9"><div class="marker"></div><span class="inline-wrap"><b>函数声明会被提升</b></span><span class="inline-wrap">，包括函数体内的函数。</span></li><li id="pxSgqwsQKzofxZy8HDKeeA"><div class="marker"></div><span class="inline-wrap">变量和函数的提升只会发生在其所在的作用域内，如果在函数内部声明的变量或函数，则它们只会在该函数内部被提升。</span></li></ol><h2 id="9jtStb7mWSeXHczqF7YztF" class="wolai-block"><span class="inline-wrap">Scope 作用域</span></h2><div id="tqB7HYEWmr31VcYqbBzNDe" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_3.png" style="width: 100%"/></figure></div><div id="phJ4wpRDcBSSiGvPgusuxD" class="wolai-block wolai-text"><div><span class="inline-wrap">作用域（Scope）和执行上下文（Execution Context）是 JavaScript 中两个重要的概念，它们有着不同的含义和作用。</span></div></div><ol class="wolai-block"><li id="qocTSzkS7tSZVQ7spRZSTp"><div class="marker"></div><span class="inline-wrap"><b>作用域（Scope）</b></span><span class="inline-wrap">：</span><ul class="wolai-block"><li id="fiFWdYab8eLwDaaMTAibDB"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">作用域指的是变量和函数的可访问性和可见性范围。</span></li><li id="bHbndqq4WprbhZc1MixwKy"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">在 JavaScript 中，作用域是词法（静态）作用域，即作用域在代码编写阶段就确定了，与函数的调用位置无关。</span></li><li id="ucbMQ5HLBq5yYbiRVPZAkM"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">作用域定义了变量在代码中的可见性，包括全局作用域和局部作用域。</span></li></ul></li><li id="p6B7ZMwrogcn4ktBpLwjud"><div class="marker"></div><span class="inline-wrap"><b>执行上下文（Execution Context）</b></span><span class="inline-wrap">：</span><ul class="wolai-block"><li id="7joRQaQEWU4fKmHYjH8nzn"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">执行上下文是 JavaScript 中代码执行的环境，包含了当前代码的所有变量、函数、以及对外部环境的引用。</span></li><li id="wZDbPBJ97ZPcjikf5rLnMS"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">在 JavaScript 中，每次执行代码都会创建一个新的执行上下文。</span></li><li id="c5TCbs3pSLbUzKQx8iyE9D"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">执行上下文分为全局执行上下文和函数执行上下文，以及通过 </span><span class="inline-wrap"><code>eval()</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>with</code></span><span class="inline-wrap"> 创建的执行上下文。</span></li></ul></li></ol><div id="gmWM7svNoy887jsBytbYqQ" class="wolai-block wolai-text"><div><span class="inline-wrap">简而言之，作用域决定了代码中变量的可见性和访问范围，而执行上下文则是代码执行的环境，包含了代码中的所有内容以及与外部环境的联系。</span></div></div><h2 id="jvxVQnHBVuetEskNH48nKS" class="wolai-block"><span class="inline-wrap">Call Stack</span></h2><div id="2nkqXJDU1aSa3o3WahSyaj" class="wolai-block wolai-text"><div><span class="inline-wrap">当我们调用一个函数时，它会被添加到调用栈的顶部，然后在执行完成后从栈中移除。让我们通过一个简单的示例来说明：</span></div></div><code-block id="bXFK7m2mwZEaehyVM8grHL" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> userName <span class="token operator">=</span> <span class="token string">"Alice"</span><span class="token punctuation">;</span>
  <span class="token function">greet</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div id="381mowt75y1dPH1S86A2W9" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个示例中，我们有两个函数：</span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>sayHello</code></span><span class="inline-wrap">。当 </span><span class="inline-wrap"><code>sayHello</code></span><span class="inline-wrap"> 函数被调用时，它将 </span><span class="inline-wrap"><code>userName</code></span><span class="inline-wrap"> 设置为 &quot;Alice&quot;，然后调用 </span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap"> 函数，并传递 </span><span class="inline-wrap"><code>userName</code></span><span class="inline-wrap"> 作为参数。</span></div></div><div id="7uoAThEbxbfJJEKuejaonJ" class="wolai-block wolai-text"><div><span class="inline-wrap">函数调用的顺序如下：</span></div></div><ol class="wolai-block"><li id="8LcahKBptFKR27HfrsWYt7"><div class="marker"></div><span class="inline-wrap">首先，</span><span class="inline-wrap"><code>sayHello</code></span><span class="inline-wrap"> 函数被添加到调用栈的顶部。</span></li><li id="sm8ee6sF1Xis9S5HbWT9ad"><div class="marker"></div><span class="inline-wrap">在 </span><span class="inline-wrap"><code>sayHello</code></span><span class="inline-wrap"> 函数内部，</span><span class="inline-wrap"><code>userName</code></span><span class="inline-wrap"> 变量被设置为 &quot;Alice&quot;。</span></li><li id="ngzCXbXuA52RV5vGoR79JQ"><div class="marker"></div><span class="inline-wrap">然后，</span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap"> 函数被调用，并且 &quot;Alice&quot; 被传递给 </span><span class="inline-wrap"><code>name</code></span><span class="inline-wrap"> 参数。</span></li><li id="wnkkuJSvZ7zcFMGHGZzHfC"><div class="marker"></div><span class="inline-wrap">在 </span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap"> 函数内部，它输出 &quot;Hello, Alice!&quot; 到控制台。</span></li><li id="5FXqdQndvAMCLCyCm8FEyy"><div class="marker"></div><span class="inline-wrap">最后，</span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap"> 函数执行完成，从调用栈中移除。</span></li><li id="nr5PrussCYtSQmLsD6U9an"><div class="marker"></div><span class="inline-wrap">接着，</span><span class="inline-wrap"><code>sayHello</code></span><span class="inline-wrap"> 函数执行完成，也从调用栈中移除。</span></li></ol><div id="uis57f7MgyTKtEiAk2hGEs" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个过程中，调用栈会根据函数调用的顺序动态地增加和减少，以跟踪函数的执行流程。</span></div></div><h2 id="uEwC3RwxxsgF28egAnBmGC" class="wolai-block"><span class="inline-wrap">Syntax</span></h2><ol class="wolai-block"><li id="3VrL5XuxWguDEUMf3XEVfC"><div class="marker"></div><span class="inline-wrap"><b>break</b></span><span class="inline-wrap">：</span><code-block id="vWLZiNtdEvcKcwaeXDNapX" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：0 1 2</span></pre></div></code-block></li><li id="xsP3zZWw1Fdc3yQLP13zLh"><div class="marker"></div><span class="inline-wrap"><b>if...else</b></span><span class="inline-wrap">：</span><code-block id="uBwwKGXMyeHQXJdsx2Futm" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>age <span class="token operator">>=</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"You are an adult."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"You are a minor."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：You are an adult.</span></pre></div></code-block></li><li id="o5rfcHKvh1Pe28CAytXMSQ"><div class="marker"></div><span class="inline-wrap"><b>for</b></span><span class="inline-wrap">：</span><code-block id="e8FXgRHxizZva7EvvF8aT4" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：0 1 2 3 4</span></pre></div></code-block></li><li id="poV7Q39T2Gij9g6AJyY6Go"><div class="marker"></div><span class="inline-wrap"><b>function</b></span><span class="inline-wrap">：</span><code-block id="em2fjchWTXuS2afFehyyto" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Hello, "</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：Hello, John!</span></pre></div></code-block></li><li id="kE5Ca3VggaURQQXVHXztG"><div class="marker"></div><span class="inline-wrap"><b>do...while</b></span><span class="inline-wrap">：</span><code-block id="7w1GuaLsDE1QxrrmqicqwH" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">do</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：0 1 2 3 4</span></pre></div></code-block></li><li id="a42hcEEQGdhSqocGGhdDeu"><div class="marker"></div><span class="inline-wrap"><b>var, let &amp; const</b></span><span class="inline-wrap">：</span><code-block id="ddnWpoKiZ7rkiKQfReNCTy" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 使用 var 声明变量</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// 使用 let 声明变量</span>
<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span> <span class="token comment">// 使用 const 声明常量</span></pre></div></code-block></li><li id="xzNGP48VHQbDfNd8mW1ZS1"><div class="marker"></div><span class="inline-wrap"><b>return</b></span><span class="inline-wrap">：</span><code-block id="3YTBwSjXQQ8z1MTroRHgSQ" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：7</span></pre></div></code-block></li><li id="kJhxC6MCt31qFd2RNRyamZ"><div class="marker"></div><span class="inline-wrap"><b>switch</b></span><span class="inline-wrap">：</span><code-block id="2tD5d47zX6c4WHprMMikF3" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> day <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword control-flow">switch</span> <span class="token punctuation">(</span>day<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Monday"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Tuesday"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow">break</span><span class="token punctuation">;</span>
    <span class="token keyword module">default</span><span class="token operator">:</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Other day"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：Tuesday</span></pre></div></code-block></li><li id="gvmd7uUpv4HCb4oCsczQq4"><div class="marker"></div><span class="inline-wrap"><b>throw</b></span><span class="inline-wrap">：</span><code-block id="avugBazfRu783PxUn47toX" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">function</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>b <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">throw</span> <span class="token string">"Division by zero is not allowed."</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> a <span class="token operator">/</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Error: "</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 输出：Error: Division by zero is not allowed.</span></pre></div></code-block></li><li id="4ba2Fh6oaczSdNR7ut1WHp"><div class="marker"></div><span class="inline-wrap"><b>try...catch</b></span><span class="inline-wrap">：</span><code-block id="7dyPzCDC3YobjLM6prSgQi" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword control-flow">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> x <span class="token operator">/</span> y<span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword control-flow">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"An error occurred: "</span> <span class="token operator">+</span> error<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></li><li id="7TeHcWh1xvQSRYw9YDNftb"><div class="marker"></div><span class="inline-wrap"><b>arrays</b></span><span class="inline-wrap">：</span><code-block id="vmjWXS2p1wpZ2jxYoRDj7G" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> example <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"joe"</span><span class="token punctuation">,</span> <span class="token number">5.555</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre></div></code-block></li></ol><div id="8tEp5bphW9bAYZAkDE6SoU" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="m3R9sARpuqPdKBN9U6u21s" class="wolai-block wolai-text"><div><span class="inline-wrap">比较运算符: </span><span class="inline-wrap"><code>&lt;</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>&lt;=</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>&gt;</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>&gt;=</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>==</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>===</code></span></div></div><div id="8uc3VqcLYc3g7sQ9PGFRC8" class="wolai-block wolai-text"><div><span class="inline-wrap">逻辑运算符: </span><span class="inline-wrap"><code>&amp;&amp;</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>||</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>!</code></span></div></div><code-block id="itH5ArH6nAUR9ffnD9AZRr" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"3.0"</span> <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false，因为类型不同，且值也不同</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"3.0"</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true，因为值相同，JavaScript 会进行类型转换</span></pre></div></code-block><div id="ocCAAdueHLgQpzv9tZH6pL" class="wolai-block wolai-text"><div><span class="inline-wrap">JavaScript 不需要声明类型，语言会自动进行类型推断。</span></div></div><div id="rwQFCjK7vFXn9UsfhYZF49" class="wolai-block wolai-text"><div><span class="inline-wrap">大多数情况下，它会正确地推断类型，但当类型不匹配时，可以使用 </span><span class="inline-wrap"><code>parseInt</code></span><span class="inline-wrap"> 来转换为整数。</span></div></div><div id="qQ1v3MrnApVnSACziYHSyJ" class="wolai-block wolai-text"><div><span class="inline-wrap">许多运算符会自动转换类型，因此在许多操作中会发生类型转换。</span></div></div><code-block id="2Bc6fUVCUQpsUQZSxP1hvZ" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"What's your name?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用户输入的值通常会被转换为字符串类型</span>
<span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// 整数类型</span></pre></div></code-block><h2 id="paFvXtVuKnfQSUXEvEKJig" class="wolai-block"><span class="inline-wrap">Arrays</span></h2><code-block id="93BX5md2rizJAyMkaWew92" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> name <span class="token operator">=</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>johndoe”<span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token operator">=</span> <span class="token number">7</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token operator">=</span> ‘j'
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span>name<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token operator">=</span> <span class="token keyword nil">undefined</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span>name<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token operator">=</span> ‘e</pre></div></code-block><code-block id="vbE9RwZeTyLZLvVmK14fdX" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> example <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> joe<span class="token punctuation">,</span> <span class="token number">5.555</span><span class="token punctuation">]</span>
<span class="token keyword control-flow">for</span> <span class="token keyword">var</span> element <span class="token keyword">in</span>   <span class="token comment">//index</span>
example <span class="token punctuation">{</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword control-flow">for</span> <span class="token keyword">var</span> element <span class="token keyword">of</span>   <span class="token comment">//value</span>
example <span class="token punctuation">{</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div id="kibno8PuQ9bjVdjmfqm7eK" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个例子中，</span><span class="inline-wrap"><code>for...in</code></span><span class="inline-wrap"> 循环会迭代数组的索引（即元素的键名），而 </span><span class="inline-wrap"><code>for...of</code></span><span class="inline-wrap"> 循环会迭代数组的元素值。</span></div></div><div id="gRQA7zf7MnhVqACor29LDg" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="f7a5c2ppiCTR52DexVxKbm" class="wolai-block wolai-text"><div><span class="inline-wrap">在 JavaScript 中，</span><span class="inline-wrap"><code>for...in</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>for...of</code></span><span class="inline-wrap"> 是两种不同的循环语句，用于迭代对象和数组的元素。它们之间的区别如下：</span></div></div><ol class="wolai-block"><li id="kbDS37LKJ8hdRmatbtPCbB"><div class="marker"></div><span class="inline-wrap"><code>for...in</code></span><span class="inline-wrap"> 循环用于迭代对象的可枚举属性，通常用于遍历对象的键名。它会遍历对象自身的可枚举属性以及继承的可枚举属性。</span></li></ol><code-block id="3L7y4qJL8rg8vm36ZcbQYe" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 'a', 'b', 'c'</span>
<span class="token punctuation">}</span></pre></div></code-block><ol class="wolai-block"><li id="umDC1W9kwydKhziNWbVAr4"><div class="marker"></div><span class="inline-wrap"><code>for...of</code></span><span class="inline-wrap"> 循环用于迭代可迭代对象（如数组、字符串、Map、Set 等）的元素，而不是对象的属性。它会迭代对象本身的元素，而不会迭代继承的属性。</span></li></ol><code-block id="ct46HwBMTX1w8qD8LF92se" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 1, 2, 3</span>
<span class="token punctuation">}</span></pre></div></code-block><div id="oJ4Fh9ZrAasHTsVEHxdPBR" class="wolai-block wolai-text"><div><span class="inline-wrap">因此，</span><span class="inline-wrap"><code>for...in</code></span><span class="inline-wrap"> 适用于迭代对象的属性，而 </span><span class="inline-wrap"><code>for...of</code></span><span class="inline-wrap"> 适用于迭代可迭代对象的元素。</span></div></div><div id="bQoECYE5wqPMn5PPfwWniW" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><ol class="wolai-block"><li id="uifS4Jz1NM386UABaCMD5v"><div class="marker"></div><span class="inline-wrap"><b>map()：通过将函数应用于原始数组中的每个元素来创建一个新数组。</b></span><code-block id="ag4Qz63JaRhfaauJc2d22m" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> doubled <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token arrow operator">=></span> num <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// doubled 是 [2, 4, 6, 8]</span></pre></div></code-block></li><li id="8fY2PHj3Z8theDDtyvDKpS"><div class="marker"></div><span class="inline-wrap"><b>filter()</b></span><span class="inline-wrap">：通过由函数提供的测试来创建一个新数组，其中包含所有通过测试的元素。</span><code-block id="avPwxEqPW6Qf629Fk9fXve" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> evenNumbers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token arrow operator">=></span> num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// evenNumbers 是 [2, 4]</span></pre></div></code-block></li><li id="rBqDxFGQoaEogqkVPLaYXm"><div class="marker"></div><span class="inline-wrap"><b>reduce()</b></span><span class="inline-wrap">：通过将函数应用于每个元素，将数组减少为单个值。</span><code-block id="ppTX1Y65vyELe1AJdMyB3h" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> curr</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> acc <span class="token operator">+</span> curr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// sum 是 10</span></pre></div></code-block></li><li id="X279A4V4tXyfExw6rrbYR"><div class="marker"></div><span class="inline-wrap"><b>forEach()</b></span><span class="inline-wrap">：为数组的每个元素执行一次提供的函数。</span><code-block id="nGM3wDpTtZY23svwMcsCRR" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出：1, 2, 3, 4</span></pre></div></code-block></li><li id="i1AUU8ZX2ctmuxQRgtzpyL"><div class="marker"></div><span class="inline-wrap"><b>push()</b></span><span class="inline-wrap">：向数组末尾添加一个或多个元素，并返回数组的新长度。</span><code-block id="58NNntifhXnGyF2bj967PF" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// numbers 现在是 [1, 2, 3, 4]</span></pre></div></code-block></li><li id="fLEZZgzafBUQKosa3Z1CD8"><div class="marker"></div><span class="inline-wrap"><b>pop()：从数组中删除最后一个元素，并返回该元素。</b></span><code-block id="4DBQE6YkBEqXnTRJ3fEAcK" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> lastElement <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token method function property-access">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// lastElement 是 3，numbers 现在是 [1, 2]</span></pre></div></code-block></li><li id="rGRA3VUwUyj1dWa6zm2P96"><div class="marker"></div><span class="inline-wrap"><b>shift()</b></span><span class="inline-wrap">：从数组中删除第一个元素，并返回该元素。</span><code-block id="4UenrUbcgix7bAuQEBnonp" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> firstElement <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token method function property-access">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// firstElement 是 1，numbers 现在是 [2, 3]</span></pre></div></code-block></li><li id="kF3wgnkG8UjtSR1ViCfn1R"><div class="marker"></div><span class="inline-wrap"><b>unshift()</b></span><span class="inline-wrap">：向数组开头添加一个或多个元素，并返回数组的新长度。</span><code-block id="5WubxREjRuoktTHs9ekUst" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token method function property-access">unshift</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// numbers 现在是 [1, 2, 3]</span></pre></div></code-block></li></ol><div id="ehhAiE5qMzQWMRM6x6aCXr" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h2 id="prVH2T49NEewvnFogkm4wS" class="wolai-block"><span class="inline-wrap">Anonymous Functions</span></h2><div id="nuCrk9tiYFoEuCmoaCLmRa" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="23wCQMc1tfkyxn7CjsNhqW" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个例子中，我们使用 </span><span class="inline-wrap"><code>map()</code></span><span class="inline-wrap"> 方法将一个函数应用于数组中的所有元素，并返回一个新的数组，其中包含每个元素经过函数处理后的值。</span></div></div><div id="jNCgzng7E1vKNvseRpAXwY" class="wolai-block wolai-text"><div><span class="inline-wrap">首先，我们有一个名为 </span><span class="inline-wrap"><code>age</code></span><span class="inline-wrap"> 的数组，其中包含一些年龄值 </span><span class="inline-wrap"><code>[20, 25, 30, 35]</code></span><span class="inline-wrap">。然后，我们使用 </span><span class="inline-wrap"><code>map()</code></span><span class="inline-wrap"> 方法来遍历这个数组，并对每个元素执行一个匿名函数，该函数将当前元素的值加上 10。最后，</span><span class="inline-wrap"><code>map()</code></span><span class="inline-wrap"> 方法返回一个新的数组，其中包含每个元素加上 10 后的结果。</span></div></div><div id="v447wYTnomjorWFLXqGbgs" class="wolai-block wolai-text"><div><span class="inline-wrap">下面是具体的代码示例：</span></div></div><code-block id="vUQq3ELwJoy2WixUrFZ62m" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 使用 map() 方法将每个元素的值加上 10</span>
age <span class="token operator">=</span> age<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 [30, 35, 40, 45]</span></pre></div></code-block><div id="57iiLy7zpg8wa8RjdmLMiy" class="wolai-block wolai-text"><div><span class="inline-wrap">在上面的代码中，</span><span class="inline-wrap"><code>map()</code></span><span class="inline-wrap"> 方法遍历了数组 </span><span class="inline-wrap"><code>age</code></span><span class="inline-wrap"> 中的每个元素，并对每个元素执行了一个匿名函数，该函数将当前元素的值加上 10。最后，</span><span class="inline-wrap"><code>map()</code></span><span class="inline-wrap"> 返回一个新的数组，其中包含了每个元素加上 10 后的结果。</span></div></div><div id="7tabyLq4PoanLkjhZGd5hu" class="wolai-block wolai-text"><div><span class="inline-wrap">匿名函数（Anonymous Functions）是指在定义时不指定函数名称的函数。在 JavaScript 中，可以使用函数表达式来创建匿名函数。函数表达式可以赋值给变量，也可以作为其他函数的参数传递。</span></div></div><div id="mAVn7XEJTNcx3r3cF5Dszb" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><code-block id="fL1wQy9ZEbc8JPnHwm5t4N" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">// 匿名函数赋值给变量</span>
<span class="token keyword">const</span> <span class="token function-variable function">greet</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Hello!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 调用匿名函数</span>
<span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div id="sSyuK92wHff12AEodBrzv9" class="wolai-block wolai-text"><div><span class="inline-wrap">在上面的示例中，我们定义了一个匿名函数，并将其赋值给变量 </span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap">。然后，我们可以通过变量名 </span><span class="inline-wrap"><code>greet</code></span><span class="inline-wrap"> 来调用这个匿名函数，输出 &quot;Hello!&quot;。</span></div></div><div id="km72dvGfMzKX3jCVuWkzSb" class="wolai-block wolai-text"><div><span class="inline-wrap">匿名函数经常用作回调函数或者立即执行函数（Immediately Invoked Function Expressions，IIFE）。例如，在事件处理器中，可以使用匿名函数作为回调函数来处理事件。</span></div></div><code-block id="fL81TCejfC4zXpsuorfFmT" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">// 匿名函数作为事件处理器的回调函数</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Document clicked!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div id="b3zZZtd3D28ZZRf9c7HNgp" class="wolai-block wolai-text"><div><span class="inline-wrap">匿名函数的优势在于可以灵活地在需要时定义和使用函数，而不必为函数指定名称。因此，匿名函数在需要临时性或简单功能的情况下特别有用。</span></div></div><h2 id="deSPSHUmueNn4sRk6PJBjr" class="wolai-block"><span class="inline-wrap">Arrow Functions</span></h2><div id="eHuhs1SVTVTtd5mqBuo3o4" class="wolai-block wolai-text"><div><span class="inline-wrap">箭头函数是 ES6 中的一种新的函数声明方式，它提供了一种更简洁的语法形式来定义函数，并且在某些情况下可以改变 </span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap"> 的指向。</span></div></div><div id="8X1s4rT4m8MYX5pE1ixVP4" class="wolai-block wolai-text"><div><span class="inline-wrap">箭头函数的语法形式是用小括号括起来的参数列表，后跟一个箭头 </span><span class="inline-wrap"><code>=&gt;</code></span><span class="inline-wrap">，然后是函数体。如果函数体只有一条语句，可以省略大括号和 </span><span class="inline-wrap"><code>return</code></span><span class="inline-wrap"> 关键字，否则需要显式地使用大括号来包裹函数体，并且需要使用 </span><span class="inline-wrap"><code>return</code></span><span class="inline-wrap"> 来返回值。</span></div></div><div id="wwRhbdeQT3fgZ4Gu6y45LD" class="wolai-block wolai-text"><div><span class="inline-wrap">下面是一个箭头函数的基本示例：</span></div></div><code-block id="keCM642cV42sCSKq5PK1bc" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token comment">// 传统函数声明</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 箭头函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">addArrow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 5</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token function">addArrow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 5</span></pre></div></code-block><div id="6jMY4jrDFPRJhPjLCqp7WR" class="wolai-block wolai-text"><div><span class="inline-wrap">箭头函数通常在匿名函数和回调函数中使用，它具有更简洁的语法形式，并且在一些情况下可以更清晰地表达函数的意图。此外，箭头函数内部的 </span><span class="inline-wrap"><code>this</code></span><span class="inline-wrap"> 是词法作用域，指向的是定义时所在的对象，而不是调用时所在的对象，这与传统的函数声明有所不同。</span></div></div><div id="5e4hRKkk1RD81XZb3jJzNf" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_4.png" style="width: 100%"/></figure></div><h2 id="wXS5bkyWhtrRy5kRo7M7fC" class="wolai-block"><span class="inline-wrap">Events in JavaScript</span></h2><div id="wmVoKuhXds2747d8A29Cht" class="wolai-block wolai-text"><div><span class="inline-wrap">JavaScript 中的事件是指用户与网页交互时发生的各种动作，例如点击、鼠标移动、键盘输入等。通过捕获和处理这些事件，我们可以实现网页的动态交互和响应用户操作的功能。</span></div></div><div id="sTx5kpgnYswHj6kNYUCe1P" class="wolai-block wolai-text"><div><span class="inline-wrap">事件通常与 DOM 元素相关联，当事件发生时，可以触发相应的事件处理函数来执行特定的操作。常见的事件包括：</span></div></div><ol class="wolai-block"><li id="cf2MBUarzJQX4WuaVySs3w"><div class="marker"></div><span class="inline-wrap"><b>click</b></span><span class="inline-wrap">: 鼠标点击事件，当用户点击元素时触发。</span></li><li id="pKQg42Bt83ZSQhDGNGZwjL"><div class="marker"></div><span class="inline-wrap"><b>mouseover</b></span><span class="inline-wrap">: 鼠标悬停事件，当鼠标移动到元素上方时触发。</span></li><li id="wc2TYYf1deq5FJnVFCvByx"><div class="marker"></div><span class="inline-wrap"><b>keydown</b></span><span class="inline-wrap">: 按键按下事件，当用户按下键盘上的按键时触发。</span></li><li id="mzYttcYxmeUTgz3Gg3Pyfu"><div class="marker"></div><span class="inline-wrap"><b>submit</b></span><span class="inline-wrap">: 表单提交事件，当用户提交表单时触发。</span></li><li id="eu8T9Re4WuGk3k7hwAwZcQ"><div class="marker"></div><span class="inline-wrap"><b>change</b></span><span class="inline-wrap">: 输入内容改变事件，当输入框的内容发生改变时触发。</span></li><li id="dndzwakTQ9tggJLuKaY1Sn"><div class="marker"></div><span class="inline-wrap"><b>load</b></span><span class="inline-wrap">: 页面加载完成事件，当页面加载完成时触发。</span></li><li id="tsEBA5pi2MTgzqqKasH4mf"><div class="marker"></div><span class="inline-wrap"><b>DOMContentLoaded</b></span><span class="inline-wrap">: DOM 加载完成事件，当 DOM 树构建完成时触发。</span></li></ol><div id="5V3qhrh4iFnUNtRRmksCQo" class="wolai-block wolai-text"><div><span class="inline-wrap">在 JavaScript 中，我们可以通过以下方式来处理事件：</span></div></div><ol class="wolai-block"><li id="rqB6SDCBrhvuVesjLyvBAK"><div class="marker"></div><span class="inline-wrap">在 HTML 元素上直接添加事件属性，例如 </span><span class="inline-wrap"><code>onclick</code></span><span class="inline-wrap">、</span><span class="inline-wrap"><code>onmouseover</code></span><span class="inline-wrap"> 等。</span></li><li id="eFVgVfHHLLJvZqpSVz6b2Q"><div class="marker"></div><span class="inline-wrap">使用 DOM API 在 JavaScript 中动态添加事件监听器，例如 </span><span class="inline-wrap"><code>addEventListener</code></span><span class="inline-wrap"> 方法。</span></li><li id="dC4ttNmHk457mNNVD9D8cf"><div class="marker"></div><span class="inline-wrap">使用事件委托（Event Delegation）来管理事件，将事件监听器绑定到父元素而不是每个子元素上，可以提高性能并简化代码。</span></li></ol><div id="4kfydfirQdSwUY7M6ENmq9" class="wolai-block wolai-text"><div><span class="inline-wrap">以下是一个简单的示例，演示了如何使用事件监听器来响应按钮的点击事件：</span></div></div><code-block id="jgSesMSJxvnNzgQAJCuAcQ" class="wolai-block"><div class="wolai-pre"><div data-lang="HTML" class="marker"></div><pre><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Event Handling Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myButton<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 获取按钮元素</span>
        <span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">getElementById</span><span class="token punctuation">(</span><span class="token string">'myButton'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 添加点击事件监听器</span>
        button<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Button clicked!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></pre></div></code-block><code-block id="wrd3utqB2Pmf8Mi6s8JgY2" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token operator">&lt;</span>html<span class="token operator">></span>
<span class="token operator">&lt;</span>head<span class="token operator">></span> <span class="token operator">&lt;</span>title<span class="token operator">></span> <span class="token maybe-class-name">Event</span> <span class="token maybe-class-name">Handlers</span> <span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>
<span class="token operator">&lt;</span>body<span class="token operator">></span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">"alertName(event)"</span><span class="token operator">></span><span class="token maybe-class-name">Button</span> <span class="token number">1</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">"alertName(event)"</span><span class="token operator">></span><span class="token maybe-class-name">Button</span> <span class="token number">2</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span> 
<span class="token keyword">function</span> <span class="token function">alertName</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">var</span> trigger <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token property-access">srcElement</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'You clicked on '</span> <span class="token operator">+</span> trigger<span class="token punctuation">.</span><span class="token property-access">innerHTML</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></pre></div></code-block><div id="nX7qtr9XPxdtnNBWbabadA" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h1 id="bfVcT5hvjTqLvGa2UyPycD" class="wolai-block"><span class="inline-wrap">8.2 json</span></h1><h2 id="jUxGBG73hMkaQhq9vzATvN" class="wolai-block"><span class="inline-wrap">The Basics</span></h2><div id="41bBTJ11xZFejTVL1JZumo" class="wolai-block wolai-text"><div><span class="inline-wrap">要在网页上显示数据，你可以使用各种编程语言。对于发送数据到网页的 JavaScript 来说，最常见的方式是使用 JSON（JavaScript Object Notation）。</span></div></div><div id="rjdJepPmUt1HEfCADgL2Xj" class="wolai-block wolai-text"><div><span class="inline-wrap">JSON 支持以下数据类型：</span></div></div><ul class="wolai-block"><li id="wLtFuhzRxJocQCjNKEWJ7B"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">数字（numbers）</span></li><li id="ioDjXEKK2Np3kGyfKbciSx"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">布尔值（booleans）</span></li><li id="xieFcrF6UuyhZPWpSxS2wA"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">字符串（strings）</span></li><li id="b4FKiauvXJGrdvaNGE4pJy"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">空值（null）</span></li><li id="hHYnYX1uhpvzcXVTiPYngn"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">数组（ordered sequences of values）</span></li><li id="5PhkvXqxBGwwLgqgEJCTno"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">对象（objects）</span></li></ul><div id="d6MgXLu4QfBUS9WMKuYqN5" class="wolai-block wolai-text"><div><span class="inline-wrap">然而，JSON 不支持以下内容：</span></div></div><ul class="wolai-block"><li id="jYGi8GZnpAoMzHGkfJ2ohJ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">函数（functions）</span></li><li id="5eztRcPNLRV9HYPmnDJJDa"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">正则表达式（regular expressions）等</span></li><li id="n357WzsHPJey5Gs3xTcyR2"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"></span><br/></li></ul><code-block id="5cACLfm9RupyLLUtgUA98K" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token maybe-class-name">Strings</span> <span class="token keyword">in</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span> <span class="token punctuation">{</span> <span class="token string-property property">"name"</span><span class="token operator">:</span><span class="token string">"Joe"</span> <span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token maybe-class-name">Strings</span> <span class="token keyword">in</span> double quotes<span class="token punctuation">)</span>
<span class="token maybe-class-name">Numbers</span> <span class="token keyword">in</span> <span class="token known-class-name class-name">JSON</span> <span class="token punctuation">{</span> <span class="token string-property property">"age"</span><span class="token operator">:</span><span class="token number">20</span> <span class="token punctuation">}</span>
<span class="token known-class-name class-name">JSON</span> can be objects<span class="token punctuation">.</span> <span class="token punctuation">{</span> ”student<span class="token string">":{ "</span>name<span class="token string">":"</span><span class="token maybe-class-name">Joe</span><span class="token string">", "</span>age"<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">}</span> <span class="token punctuation">}</span>
</pre></div></code-block><div id="YBoWEXv9zWVN3ML58uVmJ" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_5.png" style="width: 100%"/></figure></div><div id="fu9vZ62HGU41LMEjFZVYT8" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><code-block id="2dTkbzWSCAaFeaZc9WaFss" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Alice"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"age"</span><span class="token operator">:</span> <span class="token number">25</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: Alice</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token property-access">age</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: 25</span></pre></div></code-block><div id="BiE42KDScXwA7HbfRmrrd" class="wolai-block wolai-text"><div><span class="inline-wrap">stringify </span></div></div><div id="8m1ASAewqp3zGPKw58xrdX" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_6.png" style="width: 100%"/></figure></div><div id="iDy13B7Swb1Kqw7CBXREas" class="wolai-block wolai-text"><div><span class="inline-wrap">parse</span></div></div><div id="b8W3iAambdRSjX3wjAUxfa" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_7.png" style="width: 100%"/></figure></div><div id="rcMRw2eMmVC85x3zXHfoeT" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>JSON.stringify()</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>JSON.parse()</code></span><span class="inline-wrap"> 是 JSON 对象的两种常见方法，它们分别用于将 JavaScript 对象转换为 JSON 字符串和将 JSON 字符串解析为 JavaScript 对象。</span></div></div><ul class="wolai-block"><li id="oVxEwDeg1LmJMFcqUKbQFf"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>JSON.stringify()</b></span><span class="inline-wrap">：将 JavaScript 对象转换为 JSON 字符串。这在需要将 JavaScript 对象序列化为字符串以便进行传输或存储时非常有用。例如：</span></li></ul><code-block id="avQX5XYfciRjtKTxQ3m6dS" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jsonString <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: {"name":"Alice","age":25}</span></pre></div></code-block><ul class="wolai-block"><li id="dwfn6Nf3JNczTJS7Zkfm9e"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>JSON.parse()</b></span><span class="inline-wrap">：将 JSON 字符串解析为 JavaScript 对象。这在接收到 JSON 格式的数据后需要将其转换为 JavaScript 对象时非常有用。例如：</span></li></ul><code-block id="wgbSL9t3k22rbMDZrt4NgG" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> jsonString <span class="token operator">=</span> <span class="token string">'{"name":"Alice","age":25}'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: { name: "Alice", age: 25 }</span></pre></div></code-block><div id="9pjn5tyDwiXTn3RZp7Nvuw" class="wolai-block wolai-text"><div><span class="inline-wrap">总的来说，</span><span class="inline-wrap"><code>JSON.stringify()</code></span><span class="inline-wrap"> 用于序列化 JavaScript 对象为 JSON 字符串，而 </span><span class="inline-wrap"><code>JSON.parse()</code></span><span class="inline-wrap"> 用于解析 JSON 字符串并将其转换为 JavaScript 对象。</span></div></div><h2 id="fK8Sbxg9pcofqh5Nithqad" class="wolai-block"><span class="inline-wrap">JSON vs XML</span></h2><div id="q11cw9wSvNt57E9Ja7N4QU" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><code-block id="mRxqUh93PjcvkDPLB3aG9t" class="wolai-block"><div class="wolai-pre"><div data-lang="JSON" class="marker"></div><pre><span class="token punctuation">{</span>
  <span class="token property">"employees"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">"firstName"</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token property">"lastName"</span><span class="token operator">:</span> <span class="token string">"Doe"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">"firstName"</span><span class="token operator">:</span> <span class="token string">"Anna"</span><span class="token punctuation">,</span> <span class="token property">"lastName"</span><span class="token operator">:</span> <span class="token string">"Smith"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">"firstName"</span><span class="token operator">:</span> <span class="token string">"Peter"</span><span class="token punctuation">,</span> <span class="token property">"lastName"</span><span class="token operator">:</span> <span class="token string">"Jones"</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre></div></code-block><code-block id="dJHDHaZ9DzHNikimUFRhJX" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token string">'{"employees":[{"firstName":"John","lastName":"Doe"},{"firstName":"Anna","lastName":"Smith"},{"firstName":"Peter","lastName":"Jones"}]}'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> parsedData <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>parsedData<span class="token punctuation">.</span><span class="token property-access">employees</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">firstName</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：John</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>parsedData<span class="token punctuation">.</span><span class="token property-access">employees</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">lastName</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出：Smith</span></pre></div></code-block><div id="32XzoGYxJjEY3UgF3Ly222" class="wolai-block wolai-text"><div><span class="inline-wrap">在这里，</span><span class="inline-wrap"><code>parsedData.employees</code></span><span class="inline-wrap">让我们可以访问员工对象数组，并且我们可以使用数组表示法访问单个员工的属性。</span></div></div><h1 id="tWbsDs4u4nG5aezR3ygVoh" class="wolai-block"><span class="inline-wrap">8.3 Object Oriented Paradigm</span></h1><h2 id="szENzmJjYChsHjuHB1Viu1" class="wolai-block"><span class="inline-wrap">Modelling a system</span></h2><div id="qFaeb7Ug125rCLb2b8HKGB" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_8.png" style="width: 100%"/></figure></div><div id="77tBNkoSBjjgGN4Txpwgr8" class="wolai-block wolai-text"><div><span class="inline-wrap">We model such entities using a Class</span></div></div><div id="r6dyDzKdXXfbyPHXoFCw75" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_9.png" style="width: 100%"/></figure></div><div id="k3KFZrNZM2QBGH96hpExLR" class="wolai-block wolai-text"><div><span class="inline-wrap">类并不存在于内存中，而是类的实例，也就是对象存在于内存中。类具有一个特定的方法称为构造函数，构造函数用于初始化对象的值。</span></div></div><div id="cp7ZiHGVx647wL1VApKwwx" class="wolai-block wolai-text"><div><span class="inline-wrap">joe – new students ( Joe Gardiner, Software Tools, 100)</span></div></div><h2 id="4XicYpsKwcFVcTo2T5vbJ" class="wolai-block"><span class="inline-wrap">Inheritance</span></h2><div id="7YuTMrhYTt7ctuAwdj52qY" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_10.png" style="width: 100%"/></figure></div><div id="5HHReFuDpd2domtN6hYuBJ" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_11.png" style="width: 100%"/></figure></div><div id="p3pcR1APss65sSs6fDUPbC" class="wolai-block wolai-text"><div><span class="inline-wrap">JavaScript<span class="jill"></span>对象是轻量级的
• 可以使用文字字面量创建对象，而无需使用类
• 也可以使用带有构造函数的函数来创建对象</span></div></div><div id="2QcwgcYPTmxDzt1uoUCQm8" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_12.png" style="width: 100%"/></figure></div><div id="iRTexAngFVRb8iewNU4sBT" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_13.png" style="width: 100%"/></figure></div><div id="kBNMDYTLV4GuwrLhQDYyaX" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_14.png" style="width: 100%"/></figure></div><h1 id="bvxnYELkiYdrGZvPdpT5Ba" class="wolai-block"><span class="inline-wrap">8.4 Aysnchronous programming</span></h1><h2 id="uRyu4Xthb5miaxTsQNbMJ2" class="wolai-block"><span class="inline-wrap">Basics</span></h2><div id="5iA5A9fPv9CLp3EqhCmTw8" class="wolai-block wolai-text"><div><span class="inline-wrap">JavaScript 具有同步执行的特性，它会按照代码的编写顺序一行一行地执行。</span></div></div><div id="gm5Nd9Pzaqof7HzrLsEaXh" class="wolai-block wolai-text"><div><span class="inline-wrap">然而，在现实世界中，有时我们需要等待某些操作完成，例如从服务器获取数据或执行耗时的计算，但这不应该阻止程序的其余部分继续执行。为了处理这种情况，JavaScript 引入了异步执行的概念，可以通过回调函数和 promises 来实现。</span></div></div><ul class="wolai-block"><li id="eaxMQwhnh2c2zs2C9KwiBf"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>回调函数（Callbacks）</b></span><span class="inline-wrap">：回调函数是一种在异步操作完成后执行的函数。我们可以将回调函数作为参数传递给异步函数，在异步操作完成后调用回调函数来处理结果。</span></li><li id="7SYxg9iSfwXPKrjsFmLDpv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>Promises</b></span><span class="inline-wrap">：Promise 是一种表示异步操作最终完成或失败的对象。它可以让我们以更加直观和易于理解的方式编写异步代码，避免了回调函数中出现的回调地狱问题。Promise 提供了 then() 方法来处理操作成功的情况，以及 catch() 方法来处理操作失败的情况。</span></li></ul><h2 id="oq5kQ45MgNxGDvRSZ8QpKJ" class="wolai-block"><span class="inline-wrap">Callbacks</span></h2><code-block id="8phgwXGaN1mqdnYKcp663e" class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"sss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// 在此处添加时间参数，以毫秒为单位</span>

<span class="token keyword">function</span> <span class="token function">goFirst</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">goSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">goFirst</span><span class="token punctuation">(</span>goSecond<span class="token punctuation">)</span><span class="token punctuation">;</span>

aaa
bbb
sss <span class="token comment">// 延迟1秒后输出</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token string">"aaa"</span>、<span class="token string">"bbb"</span>、<span class="token string">"ccc"</span>
</pre></div></code-block><div id="2QhsRc66rAjr2nqMApCo7i" class="wolai-block wolai-text"><div><span class="inline-wrap">假设我们有来自第三方的代码：</span></div></div><ul class="wolai-block"><li id="qjg4aznixThHMrKRu4Cex4"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">我们发起了多个数据库请求。</span></li><li id="jYMtwP5HnoTA8wJw1W1B6U"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">回调可能导致我们失去对代码的控制。</span></li><li id="iEDjudwDPDSr6FpDZrGhwX"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">回调可能无法完成我们期望代码执行的任务。</span></li><li id="56RUoAmzEZbPkCHvCiRmgK"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">导致我们失去对代码的信任。</span></li></ul><h2 id="jcYmfjK4zUD6MiMZ8HQF7L" class="wolai-block"><span class="inline-wrap">Promises</span></h2><div id="juhLifHonxMCYW8ZcHaA1s" class="wolai-block wolai-text"><div><span class="inline-wrap">Promise 对象表示异步操作的最终完成（或失败）以及其结果值。（MDN 文档）</span></div></div><div id="2ZoVyxvpMvCFJM3vdmnH2R" class="wolai-block wolai-text"><div><span class="inline-wrap">• Promise（承诺）用于处理异步操作。
• 异步意味着我们依赖于用户或其他任务的完成。
• 例如，如果用户正在浏览并在您的网站上选择要购买的商品。
• Promise 可以是挂起状态、已完成状态和已拒绝状态。
• Promise 对象是不可变的。</span></div></div><div id="gYvvuBevz9m916NDLczQTz" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_15.png" style="width: 100%"/></figure></div><div id="ndDzdjRo2CVy9FvRjJ6aG4" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_16.png" style="width: 100%"/></figure></div><div id="9V8a3YPyCB5FDyqRo2a4y" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_17.png" style="width: 100%"/></figure></div><div id="rD7sxbKtmiUAmtM6WQCUFC" class="wolai-block wolai-text"><div><span class="inline-wrap">For Each</span></div></div><div id="dSdA8SVswMqjQ7C98UuWNE" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_18.png" style="width: 100%"/></figure></div><div id="2VDUsHApZHngbujJjFLb1B" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_19.png" style="width: 100%"/></figure></div><div id="5EjaxTUtit9pj795tS1P3V" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h1 id="dU5oAGncUkg2hZsRP8wnFR" class="wolai-block"><span class="inline-wrap">8.5.1 Exercises</span></h1><div id="4JSLkEenL8E1hf5oUwdS6t" class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://docs.google.com/document/d/1hLM38b6Y9xhXtD-CAbp6fOr9IMm8P-HfMHfXNQHD_zA/mobilebasic"><span>https://docs.google.com/document/d/1hLM38b6Y9xhXtD-CAbp6fOr9IMm8P-HfMHfXNQHD_zA/mobilebasic</span></a></span></div></div><code-block id="vGJEir7DCSMvS3j3zyCR9g" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>.env
MOVIES_API_KEY=<span class="token number">39847290</span>dee6c68d3e6c90b9b90ee4ae


sever
const http = <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const fs = <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const path = <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dotenv'</span><span class="token punctuation">)</span>.<span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

const PORT = process.env.PORT || <span class="token number">3000</span><span class="token punctuation">;</span>

const MOVIES_API_KEY = process.env.MOVIES_API_KEY<span class="token punctuation">;</span>

<span class="token selector">const SEARCH_API = `https://api<span class="token class">.themoviedb</span><span class="token class">.org</span>/3/search/movie?api_key=$</span><span class="token punctuation">{</span>MOVIES_API_KEY<span class="token punctuation">}</span>&amp;query=`<span class="token punctuation">;</span>
<span class="token selector">const API_URL_HOME = `https://api<span class="token class">.themoviedb</span><span class="token class">.org</span>/3/discover/movie?api_key=$</span><span class="token punctuation">{</span>MOVIES_API_KEY<span class="token punctuation">}</span>&amp;include_adult=false&amp;include_video=false&amp;language=en-US&amp;page=<span class="token number">1</span>&amp;sort_by=popularity.desc`<span class="token punctuation">;</span>

<span class="token selector">const server = http<span class="token class">.createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> =<span class="token combinator">></span></span> <span class="token punctuation">{</span>
    let filePath = path.<span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> req.url === <span class="token string">'/'</span> ? <span class="token string">'index.html'</span> <span class="token punctuation">:</span> req.url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    let extname = path.<span class="token function">extname</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    let contentType = <span class="token string">'text/html'</span><span class="token punctuation">;</span>

    <span class="token selector">switch <span class="token punctuation">(</span>extname<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
        case <span class="token string">'.js'</span><span class="token punctuation">:</span>
            contentType = <span class="token string">'text/javascript'</span><span class="token punctuation">;</span>
            break<span class="token punctuation">;</span>
        case <span class="token string">'.css'</span><span class="token punctuation">:</span>
            contentType = <span class="token string">'text/css'</span><span class="token punctuation">;</span>
            break<span class="token punctuation">;</span>
        case <span class="token string">'.json'</span><span class="token punctuation">:</span>
            contentType = <span class="token string">'application/json'</span><span class="token punctuation">;</span>
            break<span class="token punctuation">;</span>
        case <span class="token string">'.png'</span><span class="token punctuation">:</span>
            contentType = <span class="token string">'image/png'</span><span class="token punctuation">;</span>
            break<span class="token punctuation">;</span>
        case <span class="token string">'.jpg'</span><span class="token punctuation">:</span>
            contentType = <span class="token string">'image/jpg'</span><span class="token punctuation">;</span>
            break<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">fs<span class="token class">.readFile</span><span class="token punctuation">(</span>filePath<span class="token punctuation">,</span> 'utf8'<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> content<span class="token punctuation">)</span> =<span class="token combinator">></span></span> <span class="token punctuation">{</span>
        <span class="token selector">if <span class="token punctuation">(</span>err<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
            <span class="token selector">if <span class="token punctuation">(</span>err<span class="token class">.code</span> === 'ENOENT'<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
                <span class="token selector">// Page not found
                res<span class="token class">.writeHead</span><span class="token punctuation">(</span>404<span class="token punctuation">,</span></span> <span class="token punctuation">{</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'text/html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res.<span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'&lt;h1>404 Not Found&lt;/h1>&lt;p>The page you are looking for does not exist.&lt;/p>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{</span>
                // Server error
                res.<span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token selector">res<span class="token class">.end</span><span class="token punctuation">(</span>`Server Error: $</span><span class="token punctuation">{</span>err.code<span class="token punctuation">}</span>`<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{</span>
            // Success
            content = content.<span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'{{API_URL_HOME}}'</span><span class="token punctuation">,</span> API_URL_HOME<span class="token punctuation">)</span><span class="token punctuation">;</span>
            content = content.<span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'{{SEARCH_API}}'</span><span class="token punctuation">,</span> SEARCH_API<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token selector">res<span class="token class">.writeHead</span><span class="token punctuation">(</span>200<span class="token punctuation">,</span></span> <span class="token punctuation">{</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> contentType <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            res.<span class="token function">end</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token selector">server<span class="token class">.listen</span><span class="token punctuation">(</span>PORT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> =<span class="token combinator">></span></span> <span class="token punctuation">{</span>
    <span class="token selector">console<span class="token class">.log</span><span class="token punctuation">(</span>`Server is running on port $</span><span class="token punctuation">{</span>PORT<span class="token punctuation">}</span>`<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</pre></div></code-block><div id="hY2ycmjHzCdKLWQdNdzqTW" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><code-block id="rFUNx6Nvf74Aq9eenhXjER" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>

const IMG_PATH = <span class="token string">'https://image.tmdb.org/t/p/w500'</span>
// const SEARCH_API = <span class="token string">'https://api.themoviedb.org/3/search/movie?api_key=39847290dee6c68d3e6c90b9b90ee4ae&amp;query="'</span>
// const API_URL_HOME = <span class="token string">'https://api.themoviedb.org/3/discover/movie?api_key=39847290dee6c68d3e6c90b9b90ee4ae&amp; \
//                    include_adult=false&amp;include_video=false&amp;language=en-US&amp;page=1&amp;sort_by=popularity.desc'</span><span class="token punctuation">;</span>
        
const SEARCH_API = <span class="token selector">"</span><span class="token punctuation">{</span><span class="token punctuation">{</span>SEARCH_API<span class="token punctuation">}</span><span class="token punctuation">}</span>"<span class="token punctuation">;</span>
const API_URL_HOME = <span class="token selector">"</span><span class="token punctuation">{</span><span class="token punctuation">{</span>API_URL_HOME<span class="token punctuation">}</span><span class="token punctuation">}</span>"<span class="token punctuation">;</span>
                 
const main =  document.<span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const form = document.<span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"form"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
const search = document.<span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"search"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token selector">async function getMovies<span class="token punctuation">(</span>url<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>

   const apiRes = await <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
   const resJson = await apiRes.<span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token selector">if <span class="token punctuation">(</span>!apiRes<span class="token class">.ok</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
       console.<span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Error fetching movies: "</span><span class="token punctuation">,</span> apiRes.statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token function">showMovies</span><span class="token punctuation">(</span>resJson.results<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token selector">function showMovies<span class="token punctuation">(</span>movies<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
   <span class="token selector">main<span class="token class">.innerHTML</span> = ''

   movies<span class="token class">.forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>movie<span class="token punctuation">)</span> =<span class="token combinator">></span></span> <span class="token punctuation">{</span>
       <span class="token selector">const</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> poster_path<span class="token punctuation">,</span> vote_average<span class="token punctuation">,</span> overview <span class="token punctuation">}</span> <span class="token selector">= movie

       const movieEl = document<span class="token class">.createElement</span><span class="token punctuation">(</span>'div'<span class="token punctuation">)</span>
       movieEl<span class="token class">.classList</span><span class="token class">.add</span><span class="token punctuation">(</span>'movie'<span class="token punctuation">)</span>

       movieEl<span class="token class">.innerHTML</span> = `
           &lt;img src="${IMG_PATH <span class="token combinator">+</span> poster_path}" alt="${title}"<span class="token combinator">></span>
           &lt;div class="movie-info"<span class="token combinator">></span>
         &lt;h3<span class="token combinator">></span>$</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token selector">&lt;/h3<span class="token combinator">></span>
         &lt;span class="${getClassByRate<span class="token punctuation">(</span>vote_average<span class="token punctuation">)</span>}"<span class="token combinator">></span>$</span><span class="token punctuation">{</span>vote_average<span class="token punctuation">}</span><span class="token selector">&lt;/span<span class="token combinator">></span>
           &lt;/div<span class="token combinator">></span>
           &lt;div class="overview"<span class="token combinator">></span>
         &lt;h3<span class="token combinator">></span>Overview&lt;/h3<span class="token combinator">></span>
         $</span><span class="token punctuation">{</span>overview<span class="token punctuation">}</span>
       &lt;/div>
       `
       main.<span class="token function">appendChild</span><span class="token punctuation">(</span>movieEl<span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token selector">function getClassByRate<span class="token punctuation">(</span>vote<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
   <span class="token selector">if <span class="token punctuation">(</span>vote <span class="token combinator">></span>= 8<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
       return <span class="token string">".movie-info blue"</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token selector">else if <span class="token punctuation">(</span>vote <span class="token combinator">></span>= 5<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
       return <span class="token string">".movie-info black"</span>
   <span class="token punctuation">}</span> else return <span class="token string">".movie-info orange"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

// Get initial movies
<span class="token function">getMovies</span><span class="token punctuation">(</span>API_URL_HOME<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token selector">form<span class="token class">.addEventListener</span><span class="token punctuation">(</span>'submit'<span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> =<span class="token combinator">></span></span> <span class="token punctuation">{</span>
   <span class="token selector">e<span class="token class">.preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

   const searchTerm = search<span class="token class">.value</span> // we create a var with the search term

   if<span class="token punctuation">(</span>searchTerm &amp;&amp; searchTerm !== ''<span class="token punctuation">)</span></span> <span class="token punctuation">{</span> // and if the term exists
       <span class="token function">getMovies</span><span class="token punctuation">(</span>SEARCH_API <span class="token operator">+</span> searchTerm<span class="token punctuation">)</span><span class="token punctuation">;</span>

       search.value = <span class="token string">''</span>
   <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{</span>
       window.location.<span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block><div id="k5jo7YgAMrgJ712bXTdr7K" class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>