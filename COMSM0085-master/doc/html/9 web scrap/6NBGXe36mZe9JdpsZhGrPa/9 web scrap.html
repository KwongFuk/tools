<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="css/prism.min.css"/><link rel="stylesheet" type="text/css" href="css/katex.min.css"/><link rel="stylesheet" type="text/css" href="css/wolai.css"/><title>9 web scrap - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="9 web scrap" class="main-title"></div></div></header><article><h1 id="rBTL11jfQGbWVJBXkTLK8T" class="wolai-block"><span class="inline-wrap">9.1 Crawling the Web - wget</span></h1><h2 id="d4ncWX7pXeC1QgkEiCV1c3" class="wolai-block"><span class="inline-wrap">Basic usage</span></h2><div id="qXmpnvezDPTpHtgjp6MJpo" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 是一个在命令行中使用的下载工具，用于从 Web 上下载文件。它支持 HTTP、HTTPS 和 FTP 协议，具有许多功能，如断点续传、递归下载、后台下载等。你可以使用类似以下的命令来下载一个文件：</span></div></div><code-block id="fFRqXTHDtJnRXbPFeWQKXz" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token punctuation">[</span>URL<span class="token punctuation">]</span></pre></div></code-block><div id="gfeJSspBPKCLn13B8V6BQF" class="wolai-block wolai-text"><div><span class="inline-wrap">例如，要下载一个名为 </span><span class="inline-wrap"><code>example.zip</code></span><span class="inline-wrap"> 的文件，可以使用以下命令：</span></div></div><code-block id="5QD4iKXQD5ZHxHVqVSMUxh" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> https://example.com/example.zip</pre></div></code-block><div id="hFbzn97n1GbZL7hiFubJu7" class="wolai-block wolai-text"><div><span class="inline-wrap">你还可以通过添加参数来控制下载的行为，比如 </span><span class="inline-wrap"><code>-O</code></span><span class="inline-wrap"> 参数可以指定保存的文件名：</span></div></div><code-block id="wkJBbUV6x4UQaZYZiq6jYB" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-O</span> filename.zip https://example.com/example.zip</pre></div></code-block><h2 id="tuwofDPXpCt6J1MrqEETFz" class="wolai-block"><span class="inline-wrap">Page requisites</span></h2><div id="261V8fiQRdc2peq7ZuEAup" class="wolai-block wolai-text"><div><span class="inline-wrap">对于使用 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 下载网页及其相关资源，你可以使用 </span><span class="inline-wrap"><code>-p</code></span><span class="inline-wrap"> 选项。此选项将下载页面的所有必需文件，包括样式表、图像等。</span></div></div><code-block id="hXjwyKhf4fnWwYj5wnk9wf" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-p</span> https://example.com</pre></div></code-block><div id="vddS64GmtC4GHoxVkSqTv9" class="wolai-block wolai-text"><div><span class="inline-wrap">这将下载 </span><span class="inline-wrap"><code>example.com</code></span><span class="inline-wrap"> 网页及其所有必需的资源。</span></div></div><div id="umEL8wTys7FRbNEYtmeM4R" class="wolai-block wolai-text"><div><span class="inline-wrap">至于 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件，</span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 默认情况下不会下载该文件，因为它是一个针对爬虫的指令文件，通常用于指示搜索引擎爬虫哪些页面可以被抓取。如果你想下载 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件，可以使用 </span><span class="inline-wrap"><code>-e robots=off</code></span><span class="inline-wrap"> 选项来禁用 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件的处理：</span></div></div><code-block id="pxUHs7cnVKAx8X3M5Xq2xe" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-p</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">robots</span><span class="token operator">=</span>off https://example.com</pre></div></code-block><div id="8gH2ZmXas1r7phQKFfKDkW" class="wolai-block wolai-text"><div><span class="inline-wrap">这样就会下载页面及其相关资源，同时忽略 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件。 </span></div></div><div id="ie4ECgCgGbAW3VsYji95rT" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="mjLvMcDBQ9mbakYSbg8Swv" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 是一个用于网站爬虫控制的标准文件。它是一个简单的文本文件，通常存储在网站的顶级目录中。</span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件用于指定哪些网络爬虫（user-agents）被允许访问网站的哪些资源。

通过编辑 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件，网站所有者可以控制搜索引擎爬虫对其网站的访问行为。例如，网站所有者可以通过 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件阻止搜索引擎爬虫访问某些敏感页面或限制它们的访问频率，以避免不必要的流量或保护特定内容。

爬虫在访问网站时通常会首先查找 </span><span class="inline-wrap"><code>robots.txt</code></span><span class="inline-wrap"> 文件，以了解网站所有者对爬取行为的偏好。</span></div></div><h2 id="HRPHHw4ZDnN9DWN3DPBi9" class="wolai-block"><span class="inline-wrap">Recursive downloading</span></h2><div id="pW8C3Esf7zVt41sfje4EPW" class="wolai-block wolai-text"><div><span class="inline-wrap">递归下载是指下载网页及其链接的页面。使用 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 命令进行递归下载时，您可以使用以下参数：</span></div></div><ul class="wolai-block"><li id="mzk3DWjLCsFR3qsKDxg61M"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-r</code></span><span class="inline-wrap">：表示进行递归下载。</span></li><li id="tAGK1AZ41tCxA87LN24L1D"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-l N</code></span><span class="inline-wrap">：指定递归的深度级别，其中 N 代表允许递归的级别。默认情况下，如果省略该参数，默认递归级别为 5。</span></li></ul><div id="ezWJFTN4RzC9ns7fLCM45z" class="wolai-block wolai-text"><div><span class="inline-wrap">举例来说，如果您想要下载指定 URL 的网页及其链接页面，可以使用以下命令：</span></div></div><code-block id="ubPtQS4VCLDzvqEoWuR74C" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-l</span> <span class="token number">2</span> <span class="token operator">&lt;</span>url<span class="token operator">></span></pre></div></code-block><div id="gnqurPGmhM8eQBReY9od2Z" class="wolai-block wolai-text"><div><span class="inline-wrap">这将递归地下载指定 URL 的网页及其链接页面，递归深度为 2 级。</span></div></div><h2 id="fTPLMQE7cSEGhPY1MJW59C" class="wolai-block"><span class="inline-wrap">Mirroring</span></h2><div id="6EVBxHfcXc54XpaB8bVC3R" class="wolai-block wolai-text"><div><span class="inline-wrap">要下载整个网站及其所有内容，您可以使用以下命令：</span></div></div><code-block id="cepDMfAF3w83FnaouL2wis" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-m</span> <span class="token parameter variable">-w</span> <span class="token number">1</span> <span class="token operator">&lt;</span>url<span class="token operator">></span></pre></div></code-block><div id="apN4FFWN3xvzzZsV77d3uv" class="wolai-block wolai-text"><div><span class="inline-wrap">这将使用标准默认设置下载整个网站，并在每个请求之间等待 1 秒以避免对服务器造成干扰。</span></div></div><div id="pz6BgUHALJYEyVXxbqaJ59" class="wolai-block wolai-text"><div><span class="inline-wrap">这里的 </span><span class="inline-wrap"><code>-m</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>-w</code></span><span class="inline-wrap"> 是 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 命令的选项：</span></div></div><ul class="wolai-block"><li id="inEQGfx3s5QtFDbsEoJ4N3"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-m</code></span><span class="inline-wrap"> 表示递归下载，它会下载指定页面及其链接的所有页面和资源，构建一个本地副本。</span></li><li id="dzuUzu5jA2EyHbbJi6rZxm"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-w</code></span><span class="inline-wrap"> 后面跟着一个数字，表示等待时间（以秒为单位），用于设置每个请求之间的等待时间。这有助于避免对服务器造成过多负载，也可以用来控制下载速度。</span></li></ul><div id="mgZ2oHEBJQqFcur1BYkExG" class="wolai-block wolai-text"><div><span class="inline-wrap">当使用 wget 命令时，可以结合不同的选项来实现各种功能。以下是一些常用选项及其作用的示例：</span></div></div><ol class="wolai-block"><li id="gRceV43UKwvA6fomAxqC82"><div class="marker"></div><span class="inline-wrap">下载单个文件：</span><code-block id="sXWvyBdzRzX4bRgJqPvH78" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> http://example.com/file.txt</pre></div></code-block></li><li id="kXSBsHk63C9CKbPWavMTu"><div class="marker"></div><span class="inline-wrap">下载整个网站：</span><code-block id="7HVCnwFHsAmBKvV6JaRidD" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-m</span> http://example.com</pre></div></code-block></li><li id="cnMS3A8xWtbBTUd7wDrbup"><div class="marker"></div><span class="inline-wrap">递归下载到指定深度：</span><code-block id="sm8Yh8727QEiruQy6NxXb5" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-l</span> <span class="token number">2</span> http://example.com</pre></div></code-block></li><li id="uffBPASCvuMia357bWZ7s8"><div class="marker"></div><span class="inline-wrap">下载文件并保留远程目录结构：</span><code-block id="azhfaPKWJPn9Bo9Sgs3DwT" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-r</span> --no-parent http://example.com/path/to/files</pre></div></code-block></li><li id="oCZqTmJ7gvnxarQCapu7rA"><div class="marker"></div><span class="inline-wrap">下载文件并限制带宽：</span><code-block id="5Md45vcvbFjNpEW4PKiCLN" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> --limit-rate<span class="token operator">=</span>100k http://example.com/file.zip</pre></div></code-block></li><li id="kTTRJHV33QYegyTJgxpAGq"><div class="marker"></div><span class="inline-wrap">使用用户代理标识：</span><code-block id="t2GYBL6Ck1JYDfgkxuJq4n" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> --user-agent<span class="token operator">=</span><span class="token string">"Mozilla/5.0"</span> http://example.com</pre></div></code-block></li><li id="fevL7Ryw8oWeS1GGseWdic"><div class="marker"></div><span class="inline-wrap">下载文件并保存到指定位置：</span><code-block id="qLWdUVinrjYJntWqU8f2iu" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-O</span> output.zip http://example.com/file.zip</pre></div></code-block></li><li id="d5drUCc5yZ6ASc8g5kSAvx"><div class="marker"></div><span class="inline-wrap">断点续传下载：</span><code-block id="uh9qn7KN6SuC2qtvDpWgNz" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-c</span> http://example.com/largefile.zip</pre></div></code-block></li><li id="srUZBVP4phmNw3WLkCRkhc"><div class="marker"></div><span class="inline-wrap">后台下载：</span><code-block id="xsn6BDrZ13PDa66GubhtnQ" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-b</span> http://example.com/largefile.zip</pre></div></code-block></li></ol><div id="oTaDeVzZ37WKJqKCMuQ1ux" class="wolai-block wolai-text"><div><span class="inline-wrap">这些选项可以根据具体需求进行组合和调整，以实现所需的下载功能。</span></div></div><h1 id="rmA9XZPsEY9MUDy5PCcNnL" class="wolai-block"><span class="inline-wrap">9.2 BeautifulSoup</span></h1><h2 id="sETUg8zwCzPkx4mnhEYm87" class="wolai-block"><span class="inline-wrap">Requirements</span></h2><code-block id="5NgFRURPu35YrwYckyTZDE" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre>Python requirements<span class="token punctuation">:</span>
$ sudo apk add python3 py3<span class="token operator">-</span>pip
BeautifulSoup itself<span class="token punctuation">:</span>
$ pip install bs4
Test using interpreter<span class="token punctuation">.</span></pre></div></code-block><h2 id="6yBZyQ7JQYGx1sPdyQm6E1" class="wolai-block"><span class="inline-wrap">Loading a page</span></h2><code-block id="5oEgzCqUo2LufG6eNpS3dn" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">file</span> <span class="token operator">=</span> <span class="token string">"cattax/index.html"</span>
<span class="token operator">>></span><span class="token operator">></span> soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></div></code-block><h2 id="pgzkThz2Df2VLB3vJiyyqo" class="wolai-block"><span class="inline-wrap">Printing page text</span></h2><code-block id="kMRytBh3PRmyh4uwdHuRd7" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre> text <span class="token operator">=</span> soup<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></pre></div></code-block><h2 id="kAFqjt4eZmehE9eh5pEu1q" class="wolai-block"><span class="inline-wrap">Navigating page elements</span></h2><code-block id="2LjPjcpuz9B8D2UwCaNqoB" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>title

<span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>main</pre></div></code-block><h2 id="fETScYTKJTkk8BQhTCsPtq" class="wolai-block"><span class="inline-wrap">Finding page elements</span></h2><code-block id="jGSY1iSu6QWdzFZ4V3wHUM" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token comment"># 查找第一个匹配项</span>
soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'strong'</span><span class="token punctuation">)</span>

<span class="token comment"># 查找所有匹配项</span>
soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'strong'</span><span class="token punctuation">)</span></pre></div></code-block><h1 id="cA568oX3UqCMwPSqPbZUGJ" class="wolai-block"><span class="inline-wrap">Exercise 1</span></h1><code-block id="jmgLMLDbSNeas3aqob9Zc7" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>wget <span class="token property">localhost</span><span class="token punctuation">:</span><span class="token number">8080</span>/index.html
wget -p <span class="token property">localhost</span><span class="token punctuation">:</span><span class="token number">8080</span>/index.html
wget -r -l <span class="token number">1</span> <span class="token property">localhost</span><span class="token punctuation">:</span><span class="token number">8080</span>/index.html
wget -r -l <span class="token number">2</span> <span class="token property">localhost</span><span class="token punctuation">:</span><span class="token number">8080</span>/index.html
rm -r <span class="token property">localhost</span><span class="token punctuation">:</span><span class="token number">8080</span>
wget -m <span class="token property">localhost</span><span class="token punctuation">:</span><span class="token number">8080</span>/index.html

</pre></div></code-block><div id="9BPnqbjhYiB3mCtAJrTz3K" class="wolai-block wolai-text"><div><span class="inline-wrap">这些命令都是用于在命令行中从 Web 服务器下载文件或整个网站的工具，常用于 Linux 系统。以下是每个命令的解释：</span></div></div><ol class="wolai-block"><li id="9uLQbMDMFqBYBe8dF4g45f"><div class="marker"></div><span class="inline-wrap"><code>wget localhost:8080/index.html</code></span><span class="inline-wrap">：这个命令将从 </span><span class="inline-wrap"><code>http://localhost:8080/index.html</code></span><span class="inline-wrap"> 下载单个文件 </span><span class="inline-wrap"><code>index.html</code></span><span class="inline-wrap"> 并保存在当前目录下。</span></li><li id="bRmUNdRH5N93AJKJGw3QXF"><div class="marker"></div><span class="inline-wrap"><code>wget -p localhost:8080/index.html</code></span><span class="inline-wrap">：这个命令将下载 </span><span class="inline-wrap"><code>http://localhost:8080/index.html</code></span><span class="inline-wrap"> 页面，并同时下载页面中引用的所有相关资源（如样式表、脚本和图像），并保存在当前目录下。</span></li><li id="56G7d1N1RSJhsR6LrpGihA"><div class="marker"></div><span class="inline-wrap"><code>wget -r -l 1 localhost:8080/index.html</code></span><span class="inline-wrap">：这个命令将递归地下载 </span><span class="inline-wrap"><code>http://localhost:8080/index.html</code></span><span class="inline-wrap"> 页面中链接的所有文件，但仅限于当前页面的链接（深度为<span class="jill"></span>1），并保存在当前目录下。</span></li><li id="3HiV7EzHSiKrz2FgPSpvdq"><div class="marker"></div><span class="inline-wrap"><code>wget -r -l 2 localhost:8080/index.html</code></span><span class="inline-wrap">：这个命令将递归地下载 </span><span class="inline-wrap"><code>http://localhost:8080/index.html</code></span><span class="inline-wrap"> 页面中链接的所有文件，包括当前页面的链接以及它链接的页面（深度为<span class="jill"></span>2），并保存在当前目录下。</span></li><li id="87BeX72nV9hgep6WoVKTuF"><div class="marker"></div><span class="inline-wrap"><code>rm -r localhost:8080</code></span><span class="inline-wrap">：这个命令尝试删除名为 </span><span class="inline-wrap"><code>localhost:8080</code></span><span class="inline-wrap"> 的文件或目录。然而，在这里使用 </span><span class="inline-wrap"><code>rm</code></span><span class="inline-wrap"> 命令删除服务器的方式并不合适，因为 </span><span class="inline-wrap"><code>rm</code></span><span class="inline-wrap"> 命令用于删除本地文件或目录。</span></li><li id="ujY4G4wiooDS56UXMBkT52"><div class="marker"></div><span class="inline-wrap"><code>wget -m localhost:8080/index.html</code></span><span class="inline-wrap">：这个命令将递归地下载 </span><span class="inline-wrap"><code>http://localhost:8080/index.html</code></span><span class="inline-wrap"> 页面中链接的所有文件，并保存在当前目录下。这个命令类似于前面的 </span><span class="inline-wrap"><code>-r</code></span><span class="inline-wrap"> 选项，但 </span><span class="inline-wrap"><code>wget -m</code></span><span class="inline-wrap"> 通常会更智能地处理连接，以便下载整个网站而不是下载无限数量的页面。</span></li></ol><div id="KWUdjwhwmsUo3YJvacdfY" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div id="66EnK4jxs6nEyn8nLPA8UQ" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><ol class="wolai-block"><li id="vUndJ37QfsB2NrcHoC2Vw9"><div class="marker"></div><span class="inline-wrap"><b>阅读</b></span><span class="inline-wrap"><b><code>man wget</code></b></span><span class="inline-wrap"><b>以了解</b></span><span class="inline-wrap"><b><code>-i</code></b></span><span class="inline-wrap"><b> </b></span><span class="inline-wrap"><b><code>--force-html</code></b></span><span class="inline-wrap"><b>和</b></span><span class="inline-wrap"><b><code>--spider</code></b></span><span class="inline-wrap"><b> 选项的作用。下载此网页的副本（您当前正在阅读的网页）并用于</b></span><span class="inline-wrap"><b><code>wget</code></b></span><span class="inline-wrap"><b>测试页面上的所有链接。是否有任何损坏的链接？</b></span></li></ol><div id="4PpxFkJPFWQyEMShLHruQg" class="wolai-block wolai-text"><div><span class="inline-wrap">这些选项是 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 命令的一部分，用于下载文件或网站。下面是它们的作用：</span></div></div><ol class="wolai-block"><li id="nfNJBvTygahFTxaNjyzhPD"><div class="marker"></div><span class="inline-wrap"><code>-i</code></span><span class="inline-wrap"> 选项：指定包含要下载的 URL 列表的文件。使用 </span><span class="inline-wrap"><code>-i</code></span><span class="inline-wrap"> 选项，你可以在一个文件中列出多个 URL，然后 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将逐个下载这些 URL。示例：</span><code-block id="dKS3SgMeBLjCdp8UtqXdKp" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-i</span> urls.txt</pre></div></code-block><div id="pQ6eehELfgEhP9jqEVUGnk" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个示例中，</span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将从 </span><span class="inline-wrap"><code>urls.txt</code></span><span class="inline-wrap"> 文件中读取 URL 列表，并依次下载其中的每个 URL。</span></div></div></li><li id="iGvLsFBDQQdLfye2SzENyY"><div class="marker"></div><span class="inline-wrap"><code>--force-html</code></span><span class="inline-wrap"> 选项：强制 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将下载的文件当作 HTML 文件处理。有时，服务器返回的文件的 MIME 类型可能不正确，这可能导致 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 不会正确处理文件。使用 </span><span class="inline-wrap"><code>--force-html</code></span><span class="inline-wrap"> 选项，你可以告诉 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将下载的文件当作 HTML 文件来处理，无论其实际的 MIME 类型是什么。</span><code-block id="o9GcBbzQ8g7ujXttoq24JQ" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> --force-html http://example.com/index</pre></div></code-block><div id="ptJ6i6fnhRMXfyJgcFU7i3" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个示例中，</span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将下载 </span><span class="inline-wrap"><code>http://example.com/index</code></span><span class="inline-wrap"> 页面，并将其当作 HTML 文件处理。</span></div></div></li><li id="6X4gM5ChJKEtwWdn7nb7E1"><div class="marker"></div><span class="inline-wrap"><code>--spider</code></span><span class="inline-wrap"> 选项：不下载任何文件，而只检查链接是否有效。使用 </span><span class="inline-wrap"><code>--spider</code></span><span class="inline-wrap"> 选项，</span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将只发送 HEAD 请求，而不会下载任何文件。这个选项通常用于检查链接的有效性，而不实际下载文件。</span><code-block id="4kjMQkTued43Vch1xVSTe5" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">--spider</span> http://example.com/index.html</pre></div></code-block><div id="isFkaWEChY9HfTYkQDs58e" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个示例中，</span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将向 </span><span class="inline-wrap"><code>http://example.com/index.html</code></span><span class="inline-wrap"> 发送 HEAD 请求，以检查链接的有效性，但不会下载任何文件。</span></div></div></li></ol><div id="vPSmpZxwdS2iWrWzxmzZfB" class="wolai-block wolai-text"><div><span class="inline-wrap">这些选项可以根据需要单独使用，也可以与其他 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 选项一起使用。</span></div></div><ol class="wolai-block"><li id="cXfUAwbCYpH1Z3FnaV44SF"><div class="marker"></div><span class="inline-wrap"><b>告诉</b></span><span class="inline-wrap"><b><code>wget</code></b></span><span class="inline-wrap"><b>在对本地主机上运行的服务器的请求中使用不同的用户代理字符串。检查您的服务器的请求是什么样的。</b></span></li></ol><div id="2s5hBjQ5bqMXfG2TMBtq9t" class="wolai-block wolai-text"><div><span class="inline-wrap">要在 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 命令中使用不同的用户代理字符串，你可以使用 </span><span class="inline-wrap"><code>-U</code></span><span class="inline-wrap"> 或 </span><span class="inline-wrap"><code>--user-agent</code></span><span class="inline-wrap"> 选项。这个选项允许你指定自定义的用户代理字符串，以替换 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 默认的用户代理字符串。示例如下：</span></div></div><code-block id="88KQDB29Tq7odbUw76Zo6s" class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre><span class="token function">wget</span> <span class="token parameter variable">-U</span> <span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36"</span> http://example.com/index.html</pre></div></code-block><div id="3nWSGfQPJz68oewg5JJNq" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个示例中，</span><span class="inline-wrap"><code>-U</code></span><span class="inline-wrap"> 选项后面跟着自定义的用户代理字符串。</span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 将使用指定的用户代理字符串发送请求，而不是默认的用户代理字符串。</span></div></div><div id="tzhuQyBBQLBUUvQfxiS4pz" class="wolai-block wolai-text"><div><span class="inline-wrap">要检查服务器收到的请求，你可以查看服务器的访问日志。通常情况下，服务器会记录每个收到的请求，包括请求的 URL、用户代理字符串、时间戳等信息。你可以查看服务器的访问日志文件，以了解 </span><span class="inline-wrap"><code>wget</code></span><span class="inline-wrap"> 发送的请求的确切细节。具体的日志文件位置和格式取决于服务器的配置和使用的 Web 服务器软件（如 Apache、Nginx 等）。</span></div></div><ol class="wolai-block"><li id="psZsiNjfXEabtNbaugabSG"><div class="marker"></div><span class="inline-wrap"><b>与有何</b></span><span class="inline-wrap"><b><code>wget -r -l 1 http://example.com</code></b></span><span class="inline-wrap"><b>不同</b></span><span class="inline-wrap"><b><code>wget -p http://example.com</code></b></span><span class="inline-wrap"><b>？</b></span><span class="inline-wrap"><i><b>（提示：考虑外部资源）</b></i></span><span class="inline-wrap"><b>。</b></span></li></ol><div id="sXPaTWyYkneXS54474bB7e" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>wget -r -l 1 http://example.com</code></span><span class="inline-wrap"> 和 </span><span class="inline-wrap"><code>wget -p http://example.com</code></span><span class="inline-wrap"> 都是使用 wget 命令来下载指定网站的内容，但它们之间有一些区别，尤其涉及外部资源的下载：</span></div></div><ol class="wolai-block"><li id="gbuiCNekwPHhVdnX5eFfvk"><div class="marker"></div><span class="inline-wrap"><b><code>wget -r -l 1 http://example.com</code></b></span><span class="inline-wrap">:</span><ul class="wolai-block"><li id="v77Kbq4bkAkRFPsGqvD51L"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-r</code></span><span class="inline-wrap"> 选项表示递归下载，它会下载指定网站的所有链接，并且继续递归地下载链接中的链接，以此类推，直到达到指定的递归深度。</span></li><li id="urFTttM36dyjnErKtWuM8u"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-l 1</code></span><span class="inline-wrap"> 选项指定了递归深度为 1，即只下载指定网站的直接链接，不再递归下载链接中的链接。这样做可以控制下载的范围，避免下载整个网站的内容。</span></li></ul></li><li id="9oXTEjGZgTAeKqaz2kAYxJ"><div class="marker"></div><span class="inline-wrap"><b><code>wget -p http://example.com</code></b></span><span class="inline-wrap">:</span><ul class="wolai-block"><li id="6tqcKgnAvaWEVVu7u3SfKg"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>-p</code></span><span class="inline-wrap"> 选项表示下载页面所需的所有文件，包括 HTML、CSS、JavaScript、图片等，但不会递归下载其他页面。它会下载页面上引用的所有外部资源，以确保页面能够正确显示。</span></li></ul></li></ol><div id="9wBVp4j3rF9Tod8kY3CLmw" class="wolai-block wolai-text"><div><span class="inline-wrap">因此，主要区别在于 </span><span class="inline-wrap"><code>-r</code></span><span class="inline-wrap"> 选项会递归下载整个网站的链接，而 </span><span class="inline-wrap"><code>-p</code></span><span class="inline-wrap"> 选项只会下载指定页面及其相关的外部资源，不会递归下载其他页面。</span></div></div><ol class="wolai-block"><li id="6gtKuJhj9b19ATdSm3B8q2"><div class="marker"></div><span class="inline-wrap"><b>在联机帮助页中查找“递归接受/拒绝选项” </b></span><span class="inline-wrap"><b><code>wget</code></b></span><span class="inline-wrap"><b>。您将如何</b></span><span class="inline-wrap"><b><code>wget</code></b></span><span class="inline-wrap"><b>从多个不同域抓取页面？</b></span></li></ol><div id="gA26cTrPUWVZbadAmZi5pu" class="wolai-block wolai-text"><div><span class="inline-wrap">在联机帮助页中查找“递归接受/拒绝选项”可以使用</span><span class="inline-wrap"><code>man wget</code></span><span class="inline-wrap">命令来查找，或者在终端中运行</span><span class="inline-wrap"><code>wget --help</code></span><span class="inline-wrap">，然后搜索相关内容。</span></div></div><div id="6tWyWM6S1fb6BN9vHHhhkV" class="wolai-block wolai-text"><div><span class="inline-wrap">要使用<span class="jill"></span>wget<span class="jill"></span>从多个不同域抓取页面，您可以使用</span><span class="inline-wrap"><code>-H</code></span><span class="inline-wrap">选项（</span><span class="inline-wrap"><code>--span-hosts</code></span><span class="inline-wrap">），这将允许<span class="jill"></span>wget<span class="jill"></span>递归地下载与原始<span class="jill"></span>URL<span class="jill"></span>的主机不同的链接。例如：</span></div></div><div id="3YarqQsViazdkifmDZiJaN" class="wolai-block wolai-text"><div><span class="inline-wrap">bash</span></div></div><div id="qDnzJ2RuXuyToXLPT4rSD" class="wolai-block wolai-text"><div><span class="inline-wrap">Copy code</span></div></div><div id="tGUVHheUXGgzhudseuSCGX" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>wget -r -H http://example1.com</code></span><span class="inline-wrap"> </span></div></div><div id="2SYYZpRqDagPLAu7MkeiK2" class="wolai-block wolai-text"><div><span class="inline-wrap">这将下载</span><span class="inline-wrap"><code>http://example1.com</code></span><span class="inline-wrap">页面上链接的所有页面，以及这些页面链接的其他主机上的页面。</span></div></div><ol class="wolai-block"><li id="7caaYk9Dvyy2Vbcs3DuMXv"><div class="marker"></div><span class="inline-wrap"><b>查一下有什么</b></span><span class="inline-wrap"><b><code>-nc</code></b></span><span class="inline-wrap"><b>作用什么是破坏，为什么你愿意或不愿意这样做？</b></span></li></ol><div id="p4MjuQqv7tcZrG2oBt5g7Q" class="wolai-block wolai-text"><div><span class="inline-wrap"><code>-nc</code></span><span class="inline-wrap">选项在<span class="jill"></span>wget<span class="jill"></span>中用于禁止覆盖已经存在的文件。它的全称是</span><span class="inline-wrap"><code>--no-clobber</code></span><span class="inline-wrap">。当使用该选项时，如果下载的文件已经存在于目标位置，则不会重新下载，而是保留现有的文件。</span></div></div><div id="5RHKhE7gp91TAFEiX8fNa3" class="wolai-block wolai-text"><div><span class="inline-wrap">这个选项的破坏性在于，如果您需要确保下载的文件是最新的，那么使用该选项可能会导致您得到一个过时的文件，因为<span class="jill"></span>wget<span class="jill"></span>不会重新下载已存在的文件。</span></div></div><div id="3zRXWkCCuoAAu1tq8LCgEP" class="wolai-block wolai-text"><div><span class="inline-wrap">您可能会愿意使用</span><span class="inline-wrap"><code>-nc</code></span><span class="inline-wrap">选项的情况是，如果您只对本地文件系统中不存在的文件感兴趣，或者您已经确信下载的文件是最新的，并且不希望重新下载它们。</span></div></div><div id="tfjcTwBQp4LF4EbremhiVy" class="wolai-block wolai-text"><div><span class="inline-wrap">您可能不愿意使用</span><span class="inline-wrap"><code>-nc</code></span><span class="inline-wrap">选项的情况是，如果您需要确保下载的文件是最新的，或者您希望覆盖现有文件以获取更新的内容。</span></div></div><h1 id="wHPZB1GZXwvhLtbbGWFPyK" class="wolai-block"><span class="inline-wrap">Exercise 2</span></h1><h2 id="fA1im4BWp1Uv2HCYgLJPoR" class="wolai-block"><span class="inline-wrap"><a href="https://cs-uob.github.io/COMSM0085/exercises/part2/scrape/soup.html#beautifulsoup"><span>美丽汤</span></a></span></h2><code-block id="ujPiac7LtvERsMdpYAYWaW" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>from bs4 import BeautifulSoup 如果此操作完成，则您已成功导入该库。

file = <span class="token string">"cattax/index.html"</span>
soup = <span class="token function">BeautifulSoup</span><span class="token punctuation">(</span><span class="token function">open</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre></div></code-block><div id="m9kBf4puPQYJWYCPnw3cbo" class="wolai-block wolai-text"><div><span class="inline-wrap">现在您有了一个“soup”对象，它是一个 Python 对象，具有多种与 HTML（和 XML）文档交互并访问其内容的方法。首先，只需输入</span><span class="inline-wrap"><code>soup</code></span><span class="inline-wrap">您的解释器即可。 Python 将打印出对象的基本文本表示，这只是 </span><span class="inline-wrap"><code>index.html</code></span><span class="inline-wrap">页面的源代码。接下来，让我们尝试最常见的抓取用例之一。</span></div></div><code-block id="eRqvxPJyhTGTUwzxH17GFF" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>soup.get_<span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></div></code-block><div id="q5ghfRwxjPR5PAG3b8Udt2" class="wolai-block wolai-text"><div><span class="inline-wrap">您应该看到一个包含网页文本内容的字符串。如果您调用</span><span class="inline-wrap"><code>print</code></span><span class="inline-wrap">结果，您应该会看到文本的布局与可见文本在网页上的显示方式非常接近。</span></div></div><code-block id="v2s61kLznbyAy3TNmskzdp" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>text = soup.get_<span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span></pre></div></code-block><div id="pNH4fo5c1BvNCaeDzzgeqN" class="wolai-block wolai-text"><div><span class="inline-wrap">例如，如果您要使用网页作为 NLP 系统的输入，则从页面中获取可见文本是一个常见的要求。您还可以访问页面的不可见部分——</span><span class="inline-wrap"><code>soup.title</code></span><span class="inline-wrap">将为您提供网页的标题元素，并</span><span class="inline-wrap"><code>soup.title.text</code></span><span class="inline-wrap">为您提供标题元素中的文本内容。请注意区别：</span><span class="inline-wrap"><code>soup.title</code></span><span class="inline-wrap">是一个 BeautifulSoup 元素（类型为</span><span class="inline-wrap"><code>Tag</code></span><span class="inline-wrap">），并且具有与标签相关的方法；</span><span class="inline-wrap"><code>soup.title.text</code></span><span class="inline-wrap"> 只是一个字符串，并且只有适用于字符串的方法。</span></div></div><div id="drB3jtZENeEUY6C7xDCHyb" class="wolai-block wolai-text"><div><span class="inline-wrap">由于 HTML 文档是结构化的，因此您可以以结构化的方式与它们交互。</span><span class="inline-wrap"><code>soup.head</code></span><span class="inline-wrap">将为您提供一个反映 HTML 结构的“head”部分的 soup 对象，并将</span><span class="inline-wrap"><code>soup.head.findChildren()</code></span><span class="inline-wrap">返回一个包含 head 内所有“子”元素的列表。通过了解文档的结构，您可以通过编程方式导航到某些元素。这不仅仅与标签相关：您还可以访问属性的值。</span><span class="inline-wrap"><code>soup.head.meta[&#39;charset&#39;]</code></span><span class="inline-wrap">将访问</span><span class="inline-wrap"><code>charset</code></span><span class="inline-wrap">文档头部元标记的属性。</span></div></div><ol class="wolai-block"><li id="jwPdamDER7DrhXj6Rtyv2u"><div class="marker"></div><span class="inline-wrap"><b>查看</b></span><span class="inline-wrap"><a href="https://beautiful-soup-4.readthedocs.io/en/latest/#navigating-the-tree"><span><b>BeautifulSoup 文档</b></span></a></span><span class="inline-wrap"><b>中的一些其他示例，特别是有关该</b></span><span class="inline-wrap"><b><code>.find_all()</code></b></span><span class="inline-wrap"><b>方法的使用的示例。</b></span></li></ol><div id="uc3rnLrUvkCj8Mb85eZQEz" class="wolai-block wolai-text"><div><span class="inline-wrap">在<span class="jill"></span>Beautiful Soup<span class="jill"></span>文档中，</span><span class="inline-wrap"><code>.find_all()</code></span><span class="inline-wrap">方法用于查找文档中符合特定条件的所有标签。这个方法可以接受一系列参数，用于指定搜索的条件，例如标签名、属性、文本内容等。以下是一些关于</span><span class="inline-wrap"><code>.find_all()</code></span><span class="inline-wrap">方法的示例用法：</span></div></div><ol class="wolai-block"><li id="4Nvqv1yjfEVwJMxd84Kgzq"><div class="marker"></div><span class="inline-wrap"><b>根据标签名查找所有标签：</b></span><code-block id="3csSAYXksPpPRdmG7zRZej" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre>soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>  <span class="token comment"># 查找所有&lt;a>标签</span></pre></div></code-block></li><li id="hoy47JmeDHGpwmb3NkM5io"><div class="marker"></div><span class="inline-wrap"><b>根据<span class="jill"></span>class<span class="jill"></span>属性查找所有标签：</b></span><code-block id="dE1hPvLKRYUhbG3UwrGym4" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre>soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">)</span>  <span class="token comment"># 查找所有class属性为"item"的标签</span></pre></div></code-block></li><li id="e2H7Nw1gBsn62fuQY5UUPN"><div class="marker"></div><span class="inline-wrap"><b>根据<span class="jill"></span>id<span class="jill"></span>属性查找所有标签：</b></span><code-block id="aSyk7pmeXfUPq6sV2tsu9G" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre>soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token string">'main-content'</span><span class="token punctuation">)</span>  <span class="token comment"># 查找所有id属性为"main-content"的标签</span></pre></div></code-block></li><li id="EhFw1wcVr1Cb8TXHJWU8d"><div class="marker"></div><span class="inline-wrap"><b>根据多个条件查找标签：</b></span><code-block id="ccGLrnY9YuV1PbMGKNUPW8" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre>soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token operator">=</span><span class="token string">'link-1'</span><span class="token punctuation">)</span>  <span class="token comment"># 查找所有&lt;a>标签，class属性为"item"，id属性为"link-1"的标签</span></pre></div></code-block></li><li id="qJVAn3CTfKdYJcfyFGLoS2"><div class="marker"></div><span class="inline-wrap"><b>查找文档中的所有链接：</b></span><code-block id="2Va9dsrEuXLGcyftoYEcdp" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">for</span> link <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>link<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></div></code-block></li><li id="tgV8Nf8kPTFMk32Z6GXLqY"><div class="marker"></div><span class="inline-wrap"><b>使用正则表达式查找匹配的标签：</b></span><code-block id="8hi4iXhfFA5CaYjzyiJC4p" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">import</span> re
soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>href<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'^https://'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 查找href属性以"https://"开头的标签</span></pre></div></code-block></li></ol><div id="uWWntRYXo4rEJRkMm6Sofe" class="wolai-block wolai-text"><div><span class="inline-wrap">以上是一些</span><span class="inline-wrap"><code>.find_all()</code></span><span class="inline-wrap">方法的常见用法示例，您可以根据自己的需求灵活运用这些方法来搜索和提取<span class="jill"></span>HTML<span class="jill"></span>文档中的标签信息。</span></div></div><ol class="wolai-block"><li id="2NnUziTyoUJbvSScnrFCia"><div class="marker"></div><span class="inline-wrap"><b>使用解释器访问</b></span><span class="inline-wrap"><b><code>&lt;strong&gt;</code></b></span><span class="inline-wrap"><b>网页中所有元素的列表，并弄清楚如何仅打印其中包含的文本。</b></span></li></ol><div id="fTuXAxMsA9wjoSvibiQmju" class="wolai-block wolai-text"><div><span class="inline-wrap">要访问网页中所有元素的列表，您可以使用<span class="jill"></span>Beautiful Soup<span class="jill"></span>库来解析<span class="jill"></span>HTML<span class="jill"></span>文档并提取其中的元素。以下是一个使用解释器的示例，演示如何获取网页中所有元素的列表，并打印出其中包含的文本：</span></div></div><code-block id="3egDJk4Ux3sLtZPWjQYKGC" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token comment"># 假设html是您要解析的HTML文档的字符串形式</span>
html <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
&lt;html>
&lt;head>&lt;title>示例&lt;/title>&lt;/head>
&lt;body>
&lt;div id="content">
    &lt;h1>这是标题&lt;/h1>
    &lt;p>这是第一段文字。&lt;/p>
    &lt;p>这是第二段文字。&lt;/p>
    &lt;ul>
        &lt;li>列表项1&lt;/li>
        &lt;li>列表项2&lt;/li>
    &lt;/ul>
&lt;/div>
&lt;/body>
&lt;/html>
"""</span>

<span class="token comment"># 创建Beautiful Soup对象并指定解析器</span>
soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>

<span class="token comment"># 获取网页中所有元素的列表</span>
all_elements <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 打印所有元素中包含的文本</span>
<span class="token keyword">for</span> element <span class="token keyword">in</span> all_elements<span class="token punctuation">:</span>
    text <span class="token operator">=</span> element<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 如果文本不为空</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></div></code-block><div id="kN9MT9cz2NAdbfnNWpVJfF" class="wolai-block wolai-text"><div><span class="inline-wrap">这段代码首先创建了一个<span class="jill"></span>Beautiful Soup<span class="jill"></span>对象，然后使用</span><span class="inline-wrap"><code>find_all()</code></span><span class="inline-wrap">方法获取网页中所有的元素。接着遍历所有元素，使用</span><span class="inline-wrap"><code>get_text()</code></span><span class="inline-wrap">方法获取每个元素中的文本内容，并使用</span><span class="inline-wrap"><code>strip()</code></span><span class="inline-wrap">方法去除文本前后的空白字符。最后，将非空文本打印出来。</span></div></div><ol class="wolai-block"><li id="oForMhKdLsGRLfUchk32Yo"><div class="marker"></div><span class="inline-wrap"><b>您将如何</b></span><span class="inline-wrap"><b><code>.find_all()</code></b></span><span class="inline-wrap"><b>查找</b></span><span class="inline-wrap"><b><code>&lt;div&gt;</code></b></span><span class="inline-wrap"><b>具有特定类值（例如“容器”）的所有元素？如果 div 有多个类，你的方法会起作用吗？</b></span></li></ol><div id="bwuEosZLz11krU2jnRPGkT" class="wolai-block wolai-text"><div><span class="inline-wrap">您可以使用</span><span class="inline-wrap"><code>find_all()</code></span><span class="inline-wrap">方法来查找具有特定类值的所有</span><span class="inline-wrap"><code>&lt;div&gt;</code></span><span class="inline-wrap">元素。如果</span><span class="inline-wrap"><code>&lt;div&gt;</code></span><span class="inline-wrap">有多个类，您可以使用</span><span class="inline-wrap"><code>class_</code></span><span class="inline-wrap">参数来指定要查找的类值。</span></div></div><div id="wQoxddCFDjsXh8XJNVYmHx" class="wolai-block wolai-text"><div><span class="inline-wrap">以下是一个示例代码，演示如何查找具有特定类值（例如“container”）的所有</span><span class="inline-wrap"><code>&lt;div&gt;</code></span><span class="inline-wrap">元素，以及处理具有多个类的情况：</span></div></div><code-block id="vAa1ej1G3N7gMf6Ai9oTCV" class="wolai-block"><div class="wolai-pre"><div data-lang="Python" class="marker"></div><pre><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup

<span class="token comment"># 假设html是您要解析的HTML文档的字符串形式</span>
html <span class="token operator">=</span> <span class="token triple-quoted-string string">"""
&lt;html>
&lt;head>&lt;title>示例&lt;/title>&lt;/head>
&lt;body>
&lt;div class="container">第一个容器&lt;/div>
&lt;div class="container">第二个容器&lt;/div>
&lt;div class="container sidebar">第三个容器（具有多个类）&lt;/div>
&lt;div class="content">普通内容&lt;/div>
&lt;/body>
&lt;/html>
"""</span>

<span class="token comment"># 创建Beautiful Soup对象并指定解析器</span>
soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>html<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>

<span class="token comment"># 查找具有特定类值的所有&lt;div>元素</span>
divs_with_class <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'container'</span><span class="token punctuation">)</span>

<span class="token comment"># 打印找到的元素</span>
<span class="token keyword">for</span> div <span class="token keyword">in</span> divs_with_class<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 如果&lt;div>具有多个类，则使用部分匹配查找（也可以使用完整的类名）</span>
divs_with_multiple_classes <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'sidebar'</span><span class="token punctuation">)</span>

<span class="token comment"># 打印具有多个类的&lt;div>元素</span>
<span class="token keyword">for</span> div <span class="token keyword">in</span> divs_with_multiple_classes<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></pre></div></code-block><div id="nRy89YqxViNVsB6ieJNb5F" class="wolai-block wolai-text"><div><span class="inline-wrap">在这个示例中，我们首先使用</span><span class="inline-wrap"><code>find_all()</code></span><span class="inline-wrap">方法查找具有类值“container”的所有</span><span class="inline-wrap"><code>&lt;div&gt;</code></span><span class="inline-wrap">元素。然后，我们使用</span><span class="inline-wrap"><code>find_all()</code></span><span class="inline-wrap">方法查找具有类值“sidebar”的</span><span class="inline-wrap"><code>&lt;div&gt;</code></span><span class="inline-wrap">元素，注意到它有多个类。</span></div></div><h2 id="9RXEbQNfEofYCQBjPycxuk" class="wolai-block"><span class="inline-wrap"><a href="https://cs-uob.github.io/COMSM0085/exercises/part2/scrape/soup.html#a-scraping-script"><span>抓取脚本</span></a></span></h2><code-block id="bpcXMtt2PedN61qEEiM2DM" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>from bs4 import BeautifulSoup
import os


for file in os.<span class="token function">listdir</span><span class="token punctuation">(</span><span class="token string">'cattax'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  if file[<span class="token property">-4</span><span class="token punctuation">:</span>] == <span class="token string">'html'</span><span class="token punctuation">:</span>
    soup = <span class="token function">BeautifulSoup</span><span class="token punctuation">(</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'cattax/'</span>+file<span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> features=<span class="token string">'html.parser'</span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>soup.title.text <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> soup.h1.text<span class="token punctuation">)</span>

</pre></div></code-block><div id="kC1PDdtibzNxAWxgFtyfMA" class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://cs-uob.github.io/COMSM0085/exercises/part2/resources/scrape.py"><span>将此<span class="jill"></span>python 脚本</span></a></span><span class="inline-wrap">下载到包含您的文件夹的目录</span><span class="inline-wrap"><code>cattax</code></span><span class="inline-wrap">（_而不是_其本身</span><span class="inline-wrap"><code>cattax</code></span><span class="inline-wrap">）。在命令行上，您应该能够使用</span><span class="inline-wrap"><code>python3 scrape.py</code></span><span class="inline-wrap">.您将看到它打印出与 中所有文件相关的一系列行</span><span class="inline-wrap"><code>cattax</code></span><span class="inline-wrap">。</span></div></div><div id="3JQhqhwPq5C9NnfF1CQXHm" class="wolai-block wolai-text"><div><span class="inline-wrap">在编辑器中打开</span><span class="inline-wrap"><code>scrape.py</code></span><span class="inline-wrap">并检查它正在做什么。该脚本导入了两个库，一个是 BeautifulSoup，另一个是</span><span class="inline-wrap"><code>os</code></span><span class="inline-wrap">，它允许脚本使用某些操作系统功能。</span><span class="inline-wrap"><code>os.listdir</code></span><span class="inline-wrap">然后用于列出</span><span class="inline-wrap"><code>cattax</code></span><span class="inline-wrap">目录的内容并迭代它们。我们通过检查哪些文件名以字符串“html”结尾来过滤文件名，如果是，则我们打开文件并将其解析为 BeautifulSoup 对象。然后，我们打印某些元素中的文本，并用“:”分隔。了解这是如何运作的，如果您不确定，请向助教或讲师寻求帮助。</span></div></div><h3 id="mn9DbTXPp94gNufDt3WRz8" class="wolai-block"><span class="inline-wrap"><a href="https://cs-uob.github.io/COMSM0085/exercises/part2/scrape/soup.html#exercises-1"><span>练习</span></a></span></h3><ol class="wolai-block"><li id="gmXZLPr7CpaDc9BsZvWaJZ"><div class="marker"></div><span class="inline-wrap"><b>进行修改</b></span><span class="inline-wrap"><b><code>scrape.py</code></b></span><span class="inline-wrap"><b>，使其_还_打印出每页中“info”段落的内容（这可以是第二个打印语句）。再次运行该脚本以测试其是否有效。</b></span></li></ol><code-block id="inCrCwSa7eHbZnCsZCmeZV" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>from bs4 import BeautifulSoup
import os

for file in os.<span class="token function">listdir</span><span class="token punctuation">(</span><span class="token string">'cattax'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    if file[<span class="token property">-5</span><span class="token punctuation">:</span>] == <span class="token string">'.html'</span><span class="token punctuation">:</span>
        soup = <span class="token function">BeautifulSoup</span><span class="token punctuation">(</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'cattax/'</span> <span class="token operator">+</span> file<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding=<span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> features=<span class="token string">'html.parser'</span><span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span>soup.title.text <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> soup.h1.text<span class="token punctuation">)</span>
        
        # 打印每页中“info”段落的内容
        info_paragraph = soup.<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> class_=<span class="token string">'info'</span><span class="token punctuation">)</span>
        if <span class="token property">info_paragraph</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Info: "</span> <span class="token operator">+</span> info_paragraph.text.<span class="token function">strip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token property">else</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Info not found"</span><span class="token punctuation">)</span>
</pre></div></code-block><ol class="wolai-block"><li id="nynDcbMCt3kRJDLFV3Z2hg"><div class="marker"></div><span class="inline-wrap"><b>目前该脚本会为_每一_页打印一些内容。修改它，以便它只为叶节点打印一些内容——那些没有自己的“容器”元素的页面。</b></span></li></ol><code-block id="t5GpHfihQoVT9DESDQ1wrU" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre>from bs4 import BeautifulSoup
import os

def is_leaf_<span class="token function">node</span><span class="token punctuation">(</span>soup<span class="token punctuation">)</span><span class="token punctuation">:</span>
    # 检查页面是否包含链接或带有特定类的容器元素
    if soup.<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> or soup.<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_=<span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        return False
    return True

for file in os.<span class="token function">listdir</span><span class="token punctuation">(</span><span class="token string">'cattax'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    if file.<span class="token function">endswith</span><span class="token punctuation">(</span><span class="token string">'.html'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        with <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'cattax/'</span> <span class="token operator">+</span> file<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding=<span class="token string">'utf-8'</span><span class="token punctuation">)</span> as <span class="token property">f</span><span class="token punctuation">:</span>
            soup = <span class="token function">BeautifulSoup</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token string">'html.parser'</span><span class="token punctuation">)</span>
            if is_leaf_<span class="token function">node</span><span class="token punctuation">(</span>soup<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token function">print</span><span class="token punctuation">(</span>soup.title.text <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> soup.h1.text<span class="token punctuation">)</span>
                
                # 查找并打印每页中“info”段落的内容
                info_paragraph = soup.<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> class_=<span class="token string">'info'</span><span class="token punctuation">)</span>
                if <span class="token property">info_paragraph</span><span class="token punctuation">:</span>
                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Info: "</span> <span class="token operator">+</span> info_paragraph.text.<span class="token function">strip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token property">else</span><span class="token punctuation">:</span>
                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Info not found"</span><span class="token punctuation">)</span>
</pre></div></code-block><ol class="wolai-block"><li id="245F8FAzaVrtMBZnqvC3JS"><div class="marker"></div><span class="inline-wrap"><b>打印出来的东西可能很有用，但我们通常希望存储为以后的编程工作抓取的值。不是打印出信息，而是为所有叶节点创建并更新一个</b></span><span class="inline-wrap"><a href="https://realpython.com/python-dicts/"><span><b>Python 字典</b></span></a></span><span class="inline-wrap"><b>，其中字典键是页面标题，值是“信息”框的相应内容。</b></span><span class="inline-wrap"><i><b>运行您的脚本</b></i></span><span class="inline-wrap"><i><b><code>python3 -i scrape.py</code></b></i></span><span class="inline-wrap"><i><b>，它将执行您的脚本，然后在脚本执行后立即将您置于交互式会话中。然后，您可以通过与解释器中的 dict 对象交互来检查字典的内容是否符合您的预期。</b></i></span></li></ol><code-block id="gvFTs6qYKqRUwKYZY1XzC5" class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre><span class="token selector">from bs4 import BeautifulSoup
import os

page_info =</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token selector">def is_leaf_node<span class="token punctuation">(</span>soup<span class="token punctuation">)</span>:
    # 检查页面是否包含链接或带有特定类的容器元素
    if soup<span class="token class">.find</span><span class="token punctuation">(</span>'a'<span class="token punctuation">)</span> or soup<span class="token class">.find</span><span class="token punctuation">(</span>'div'<span class="token punctuation">,</span> class_='container'<span class="token punctuation">)</span>:
        return False
    return True

for file in os<span class="token class">.listdir</span><span class="token punctuation">(</span>'cattax'<span class="token punctuation">)</span>:
    if file<span class="token class">.endswith</span><span class="token punctuation">(</span>'<span class="token class">.html</span>'<span class="token punctuation">)</span>:
        with open<span class="token punctuation">(</span>'cattax/' <span class="token combinator">+</span> file<span class="token punctuation">,</span> 'r'<span class="token punctuation">,</span> encoding='utf-8'<span class="token punctuation">)</span> as f:
            soup = BeautifulSoup<span class="token punctuation">(</span>f<span class="token punctuation">,</span> 'html<span class="token class">.parser</span>'<span class="token punctuation">)</span>
            if is_leaf_node<span class="token punctuation">(</span>soup<span class="token punctuation">)</span>:
                title = soup<span class="token class">.title</span><span class="token class">.text</span>
                h1_text = soup<span class="token class">.h1</span><span class="token class">.text</span>
                info_paragraph = soup<span class="token class">.find</span><span class="token punctuation">(</span>'p'<span class="token punctuation">,</span> class_='info'<span class="token punctuation">)</span>
                if info_paragraph:
                    info_text = info_paragraph<span class="token class">.text</span><span class="token class">.strip</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                else:
                    info_text = "Info not found"
                    
                page_info<span class="token attribute"><span class="token punctuation">[</span><span class="token attr-name">title</span><span class="token punctuation">]</span></span> =</span> <span class="token punctuation">{</span><span class="token string">'Title'</span><span class="token punctuation">:</span> title<span class="token punctuation">,</span> <span class="token string">'H1'</span><span class="token punctuation">:</span> h1_text<span class="token punctuation">,</span> <span class="token string">'Info'</span><span class="token punctuation">:</span> info_text<span class="token punctuation">}</span>

<span class="token selector"># 进入交互式会话
if __name__ == "__main__":
    import code
    code<span class="token class">.interact</span><span class="token punctuation">(</span>local=</span><span class="token punctuation">{</span>**<span class="token function">globals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> **<span class="token function">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</pre></div></code-block></article><footer></footer></body></html>